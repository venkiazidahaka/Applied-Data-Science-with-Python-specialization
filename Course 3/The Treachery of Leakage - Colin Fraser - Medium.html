<!DOCTYPE html>
<!-- saved from url=(0070)https://medium.com/@colin.fraser/the-treachery-of-leakage-56a2d7c4e931 -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script async="" src="./The Treachery of Leakage - Colin Fraser - Medium_files/analytics.js.download"></script><script>!function(c,f){var t,o,i,e=[],r={passive:!0,capture:!0},n=new Date,a="pointerup",u="pointercancel";function p(n,e){t||(t=e,o=n,i=new Date,w(f),s())}function s(){0<=o&&o<i-n&&(e.forEach(function(n){n(o,t)}),e=[])}function l(n){if(n.cancelable){var e=(1e12<n.timeStamp?new Date:performance.now())-n.timeStamp;"pointerdown"==n.type?function(n,e){function t(){p(n,e),i()}function o(){i()}function i(){f(a,t,r),f(u,o,r)}c(a,t,r),c(u,o,r)}(e,n):p(e,n)}}function w(e){["click","mousedown","keydown","touchstart","pointerdown"].forEach(function(n){e(n,l,r)})}w(c),self.perfMetrics=self.perfMetrics||{},self.perfMetrics.onFirstInputDelay=function(n){e.push(n),s()}}(addEventListener,removeEventListener)</script><script defer="" src="./The Treachery of Leakage - Colin Fraser - Medium_files/16180790160.js.download"></script><title data-rh="true">The Treachery of Leakage - Colin Fraser - Medium</title><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><meta data-rh="true" name="theme-color" content="#000000"><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"><meta data-rh="true" property="al:ios:app_name" content="Medium"><meta data-rh="true" property="al:ios:app_store_id" content="828256236"><meta data-rh="true" property="al:android:package" content="com.medium.reader"><meta data-rh="true" property="fb:app_id" content="542599432471018"><meta data-rh="true" property="og:site_name" content="Medium"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2016-08-25T15:30:14.716Z"><meta data-rh="true" name="title" content="The Treachery of Leakage - Colin Fraser - Medium"><meta data-rh="true" property="og:title" content="The Treachery of Leakage"><meta data-rh="true" property="twitter:title" content="The Treachery of Leakage"><meta data-rh="true" name="twitter:site" content="@Medium"><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/56a2d7c4e931"><meta data-rh="true" property="al:android:url" content="medium://p/56a2d7c4e931"><meta data-rh="true" property="al:ios:url" content="medium://p/56a2d7c4e931"><meta data-rh="true" property="al:android:app_name" content="Medium"><meta data-rh="true" name="description" content="There are a lot of ways to screw up when you’re trying to do data science. Some of them are very technical. Leakage is not one of those very technical screw-ups. In fact, you hardly have to know…"><meta data-rh="true" property="og:description" content="How to avoid letting a model cheat on you and break your heart"><meta data-rh="true" property="twitter:description" content="How to avoid letting a model cheat on you and break your heart"><meta data-rh="true" property="og:url" content="https://medium.com/@colin.fraser/the-treachery-of-leakage-56a2d7c4e931"><meta data-rh="true" property="al:web:url" content="https://medium.com/@colin.fraser/the-treachery-of-leakage-56a2d7c4e931"><meta data-rh="true" property="og:image" content="https://miro.medium.com/max/640/1*1EkjNl2GhNDfWfT-7oJ85g.jpeg"><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/max/640/1*1EkjNl2GhNDfWfT-7oJ85g.jpeg"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="article:author" content="https://medium.com/@colin.fraser"><meta data-rh="true" name="twitter:creator" content="@colin_fraser"><meta data-rh="true" name="author" content="Colin Fraser"><meta data-rh="true" name="robots" content="index,follow"><meta data-rh="true" name="referrer" content="unsafe-url"><meta data-rh="true" name="twitter:label1" value="Reading time"><meta data-rh="true" name="twitter:data1" value="11 min read"><meta data-rh="true" name="parsely-post-id" content="56a2d7c4e931"><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="https://medium.com/osd.xml"><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/120/120/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/76/76/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/60/60/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg" color="#171717"><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="./The Treachery of Leakage - Colin Fraser - Medium_files/m2.css"><link data-rh="true" rel="author" href="https://medium.com/@colin.fraser"><link data-rh="true" rel="canonical" href="https://medium.com/@colin.fraser/the-treachery-of-leakage-56a2d7c4e931"><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/56a2d7c4e931"><link data-rh="true" rel="icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico"><script data-rh="true" type="application/ld+json">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F1*1EkjNl2GhNDfWfT-7oJ85g.jpeg"],"url":"https:\u002F\u002Fmedium.com\u002F@colin.fraser\u002Fthe-treachery-of-leakage-56a2d7c4e931","dateCreated":"2016-08-24T20:36:57.221Z","datePublished":"2016-08-24T20:36:57.221Z","dateModified":"2018-06-21T09:09:21.520Z","headline":"The Treachery of Leakage - Colin Fraser - Medium","name":"The Treachery of Leakage - Colin Fraser - Medium","description":"There are a lot of ways to screw up when you’re trying to do data science. Some of them are very technical. Leakage is not one of those very technical screw-ups. In fact, you hardly have to know…","identifier":"56a2d7c4e931","keywords":["Lite:true","Tag:Machine Learning","Tag:Data Science","Tag:Predictive Analytics","Elevated:false","LockedPostSource:LOCKED_POST_SOURCE_NONE","LayerCake:0"],"author":{"@type":"Person","name":"Colin Fraser","url":"https:\u002F\u002Fmedium.com\u002F@colin.fraser"},"creator":["Colin Fraser"],"publisher":{"@type":"Organization","name":"Medium","url":"https:\u002F\u002Fmedium.com\u002F","logo":{"@type":"ImageObject","width":308,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F616\u002F1*OMF3fSqH8t4xBJ9-6oZDZw.png"}},"mainEntityOfPage":"https:\u002F\u002Fmedium.com\u002F@colin.fraser\u002Fthe-treachery-of-leakage-56a2d7c4e931"}</script><script data-rh="true">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-24232453-2', 'auto');
ga('send', 'pageview');</script><link rel="preload" href="./The Treachery of Leakage - Colin Fraser - Medium_files/16180790160.js.download" as="script"><style type="text/css" data-fela-rehydration="528" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}</style><style type="text/css" data-fela-rehydration="528" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@-moz-keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}</style><style type="text/css" data-fela-rehydration="528" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{height:100vh}.m{width:100vw}.n{display:flex}.o{align-items:center}.p{justify-content:center}.q{fill:rgba(0, 0, 0, 0.84)}.r{display:block}.s{position:absolute}.t{top:0}.u{left:0}.v{right:0}.w{z-index:500}.x{box-shadow:0 4px 12px 0 rgba(0, 0, 0, 0.05)}.ag{max-width:1192px}.ah{min-width:0}.ai{width:100%}.aj{height:65px}.am{flex:1 0 auto}.an{font-family:'Helvetica Neue', sans-serif}.ao{font-size:20px}.ap{color:rgba(0, 0, 0, 0.84)}.aq{margin-top:7px}.ar{margin-left:10px}.as{display:-webkit-box}.at{-webkit-line-clamp:1}.au{-webkit-box-orient:vertical}.av{overflow:hidden}.ba{display:none}.bc{visibility:hidden}.bd{margin-left:16px}.be{color:rgba(2, 158, 116, 1)}.bf{fill:rgba(3, 168, 124, 1)}.bg{font-size:inherit}.bh{border:inherit}.bi{font-family:inherit}.bj{letter-spacing:inherit}.bk{font-weight:inherit}.bl{padding:0}.bm{margin:0}.bn:hover{cursor:pointer}.bo:hover{color:rgba(1, 143, 105, 1)}.bp:hover{fill:rgba(2, 158, 116, 1)}.bq:focus{outline:none}.br:disabled{cursor:default}.bs:disabled{color:rgba(52, 148, 166, 0.5)}.bt:disabled{fill:rgba(52, 148, 166, 0.5)}.bu{margin-left:15px}.bv{margin-top:1px}.bw{flex:0 0 auto}.bx{color:inherit}.by{fill:inherit}.bz:hover{color:rgba(0, 0, 0, 0.9)}.ca:hover{fill:rgba(0, 0, 0, 0.9)}.cb:disabled{color:rgba(0, 0, 0, 0.54)}.cc:disabled{fill:rgba(0, 0, 0, 0.54)}.cd{font-family:medium-content-sans-serif-font, "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Geneva, Arial, sans-serif}.ce{font-style:normal}.cf{line-height:20px}.cg{font-size:15.8px}.ch{letter-spacing:0px}.ci{color:rgba(0, 0, 0, 0.54)}.cj{fill:rgba(0, 0, 0, 0.54)}.ck{margin-bottom:0px}.cm{padding-left:24px}.cn{padding-right:24px}.co{margin-left:auto}.cp{margin-right:auto}.cq{max-width:728px}.cr{box-sizing:border-box}.cs{top:calc(100vh + 100px)}.ct{bottom:calc(100vh + 100px)}.cu{width:10px}.cv{pointer-events:none}.cw{word-break:break-word}.cx{word-wrap:break-word}.cy:after{display:block}.cz:after{content:""}.da:after{clear:both}.db{max-width:680px}.dc{line-height:1.23}.dd{letter-spacing:0}.de{font-family:medium-content-title-font, Georgia, Cambria, "Times New Roman", Times, serif}.dp{margin-bottom:-0.27em}.dv{line-height:1.394}.dw{font-weight:300}.eh{margin-bottom:-0.42em}.en{margin-top:32px}.eo{justify-content:space-between}.es{border-radius:50%}.et{height:48px}.eu{width:48px}.ev{margin-left:12px}.ew{margin-bottom:2px}.ey{font-size:16px}.ez{max-height:20px}.fa{text-overflow:ellipsis}.fb:hover{text-decoration:underline}.fc{margin-left:8px}.fd{padding:0px 8px}.fe{background:0}.ff{border-color:rgba(0, 0, 0, 0.54)}.fg:hover{color:rgba(0, 0, 0, 0.97)}.fh:hover{fill:rgba(0, 0, 0, 0.97)}.fi:hover{border-color:rgba(0, 0, 0, 0.84)}.fj:disabled{fill:rgba(0, 0, 0, 0.76)}.fk:disabled{border-color:rgba(0, 0, 0, 0.2)}.fl:disabled{cursor:inherit}.fm:disabled:hover{color:rgba(0, 0, 0, 0.54)}.fn:disabled:hover{fill:rgba(0, 0, 0, 0.76)}.fo:disabled:hover{border-color:rgba(0, 0, 0, 0.2)}.fp{border-radius:4px}.fq{line-height:18px}.fr{font-size:15px}.fs{border-width:1px}.ft{border-style:solid}.fu{display:inline-block}.fv{text-decoration:none}.fw{align-items:flex-end}.ge{padding-right:6px}.gf{margin-right:8px}.gg{margin-right:-6px}.gh{line-height:1.58}.gi{letter-spacing:-0.004em}.gj{font-family:medium-content-serif-font, Georgia, Cambria, "Times New Roman", Times, serif}.gs{margin-bottom:-0.46em}.gt{clear:left}.gu{letter-spacing:-0.003em}.gx{float:left}.gy{font-size:66px}.gz{line-height:.83}.ha{margin-right:12px}.hg{position:relative}.hh{font-style:italic}.hi{line-height:1.12}.hj{letter-spacing:-0.022em}.hk{font-weight:600}.ht{margin-bottom:-0.28em}.hz{background-repeat:repeat-x}.ia{background-image:linear-gradient(to right,rgba(0, 0, 0, 0.84) 100%,rgba(0, 0, 0, 0.84) 0);background-image:url('data:image/svg+xml;utf8,<svg preserveAspectRatio="none" viewBox="0 0 1 1" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="1" y2="1" stroke="rgba(0, 0, 0, 0.84)" /></svg>')}.ib{background-size:1px 1px}.ic{background-position:0 1.05em;background-position:0 calc(1em + 1px)}.ii{padding:20px}.ij{background:rgba(0, 0, 0, 0.05)}.ik{overflow-x:auto}.il{line-height:1.18}.im{font-family:Menlo, Monaco, "Courier New", Courier, monospace}.in{margin-top:-0.09em}.io{margin-bottom:-0.09em}.ip{white-space:pre-wrap}.iq{max-width:640px}.ir{clear:both}.is{opacity:0}.it{transition:opacity 100ms 400ms}.iu{height:100%}.iv{will-change:transform}.iw{transform:translateZ(0)}.ix{margin:auto}.iy{background-color:rgba(0, 0, 0, 0.05)}.iz{padding-bottom:66.5625%}.ja{height:0}.jb{filter:blur(20px)}.jc{transform:scale(1.1)}.jd{visibility:visible}.je{background:rgba(255, 255, 255, 1)}.jf{margin-top:10px}.jg{text-align:center}.jj{padding-bottom:75%}.jk{padding-bottom:66.25%}.jl{border-width:2px}.jm{border-color:rgba(255, 255, 255, 1)}.jn{margin-left:-150px}.jo{margin-right:30px}.jp{width:75%}.jq{padding-bottom:10px}.jv{margin-bottom:16px}.jw{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}.jx{cursor:zoom-in}.jy{z-index:auto}.jz{padding-bottom:66.40625%}.ka{font-weight:700}.kb{will-change:opacity}.kc{position:fixed}.kd{width:188px}.ke{left:50%}.kf{transform:translateX(406px)}.kg{top:calc(65px + 54px + 14px)}.kj{top:calc(65px + 54px + 40px)}.kl{width:131px}.km{flex-direction:column}.kn{padding-top:28px}.ko{margin-bottom:19px}.kp{margin-left:-3px}.kv{outline:0}.kw{border:0}.kx{user-select:none}.ky{cursor:pointer}.kz> svg{pointer-events:none}.la:active{border-style:none}.lb{-webkit-user-select:none}.lc:focus{fill:rgba(0, 0, 0, 0.54)}.ld:hover{fill:rgba(0, 0, 0, 0.54)}.ll button{text-align:left}.lm{margin-top:40px}.ln{flex-wrap:wrap}.lo{margin-top:25px}.lp{list-style-type:none}.lq{margin-bottom:8px}.lr{border-radius:3px}.ls{padding:5px 10px}.lt{line-height:22px}.lu{margin-top:15px}.lv{flex-direction:row}.lw{max-width:155px}.mc{border:1px solid rgba(0, 0, 0, 0.1)}.md{height:60px}.me{width:60px}.mr:hover{border-color:rgba(0, 0, 0, 0.54)}.ms:active{border-style:solid}.mt{z-index:2}.mv{top:1px}.nb{padding-right:8px}.nc{padding-top:32px}.nd{border-top:1px solid rgba(0, 0, 0, 0.1)}.ne{margin-bottom:25px}.ng{margin-bottom:32px}.nh{min-height:80px}.nm{height:80px}.nn{width:80px}.no{padding-left:102px}.nq{text-transform:uppercase}.nr{letter-spacing:0.05em}.ns{margin-bottom:6px}.nt{font-size:28px}.nu{line-height:36px}.nv{padding:4px 12px}.nw{max-width:555px}.nx{max-width:450px}.ny{font-size:18px}.nz{line-height:24px}.ob{padding-top:25px}.oe{color:rgba(0, 0, 0, 0.76)}.of{opacity:1}.og{border:1px solid rgba(3, 168, 124, 1)}.oh{margin-top:64px}.oi{background-color:rgba(0, 0, 0, 0.02)}.oj{margin-bottom:40px}.ok{margin-top:24px}.ol{padding-bottom:16px}.om{border-bottom:1px solid rgba(0, 0, 0, 0.1)}.on{margin-bottom:24px}.oy{align-items:flex-start}.qi{flex-grow:0}.qj{padding-bottom:24px}.qk{max-width:500px}.ql{flex:0 1 auto}.qo{padding-bottom:8px}.ra{padding-bottom:66.65920787648244%}.rl{padding-bottom:53.643966547192356%}.rm{padding-bottom:66.66666666666667%}.rn{padding-bottom:74.94241105707704%}.ro{padding-bottom:61.81818181818182%}.rp{padding-bottom:57.42574257425743%}.rq{padding-bottom:86.5702479338843%}.rr{padding:60px 0}.rs{background-color:rgba(0, 0, 0, 0.9)}.sj{padding-bottom:48px}.sk{border-bottom:1px solid rgba(255, 255, 255, 0.54)}.sl{margin:0 -12px}.sm{margin:0 12px}.sn{flex:1 1 0}.so{padding-bottom:12px}.sp:hover{color:rgba(255, 255, 255, 0.99)}.sq:hover{fill:rgba(255, 255, 255, 0.99)}.sr:disabled{color:rgba(255, 255, 255, 0.7)}.ss:disabled{fill:rgba(255, 255, 255, 0.7)}.st{color:rgba(255, 255, 255, 0.98)}.su{fill:rgba(255, 255, 255, 0.98)}.sv{text-align:inherit}.sw{font-size:21.6px}.sx{letter-spacing:-0.32px}.sy{color:rgba(255, 255, 255, 0.7)}.sz{fill:rgba(255, 255, 255, 0.7)}.ta{text-decoration:underline}.tb{padding-top:8px}.tc{width:200px}.ti{margin-right:16px}</style><style type="text/css" data-fela-rehydration="528" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.af{margin:0 64px}.dn{font-size:40px}.do{margin-top:0.78em}.du{line-height:48px}.ef{font-size:24px}.eg{margin-top:0.79em}.em{line-height:32px}.gd{margin-left:30px}.gq{font-size:21px}.gr{margin-top:2em}.hf{padding-top:7px}.hr{font-size:34px}.hs{margin-top:1.95em}.hy{margin-top:0.86em}.ih{margin-top:56px}.ku{margin-right:5px}.lk{margin-top:5px}.mb{margin-right:16px}.na{width:25px}.ow{font-size:28px}.ox{line-height:36px}.pl{width:calc(100% + 32px)}.pm{margin-left:-16px}.pn{margin-right:-16px}.qe{padding-left:16px}.qf{padding-right:16px}.qg{flex-basis:25%}.qh{max-width:25%}.qx{font-size:18px}.qy{line-height:20px}.rj{max-width:70px}.rk{max-height:70px}.sg{padding-left:64px}.sh{padding-right:64px}.si{max-width:1320px}</style><style type="text/css" data-fela-rehydration="528" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.gc{margin-left:30px}.jh{margin-left:auto}.ji{text-align:center}.jr{float:none}.js{margin-left:0}.jt{margin-right:0}.ju{width:100%}.kt{margin-right:5px}.lj{margin-top:5px}.ma{margin-right:16px}.mz{width:25px}.sd{padding-left:64px}.se{padding-right:64px}.sf{max-width:1080px}</style><style type="text/css" data-fela-rehydration="528" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.gb{margin-left:30px}.ks{margin-right:5px}.li{margin-top:5px}.lz{margin-right:16px}.my{width:15px}.sa{padding-left:48px}.sb{padding-right:48px}.sc{max-width:904px}</style><style type="text/css" data-fela-rehydration="528" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.ak{height:56px}.al{display:flex}.aw{font-size:14px}.ax{margin-top:0px}.ay{margin-left:4px}.az{-webkit-line-clamp:2}.bb{display:block}.cl{margin-bottom:0px}.eq{margin-top:32px}.er{flex-direction:column-reverse}.fz{margin-bottom:30px}.ga{margin-left:0px}.kr{margin-left:8px}.lg{margin-top:2px}.lh{margin-right:8px}.ly{margin-left:16px}.mx{width:15px}.nf{padding-top:32px}.ni{margin-bottom:24px}.nj{align-items:center}.nk{width:102px}.nl{position:relative}.np{padding-left:0}.oa{margin-top:24px}.oc{padding-top:25px}.od{border-top:1px solid rgba(0, 0, 0, 0.1)}.oo{padding-bottom:12px}.op{margin-top:16px}.qn{margin-right:16px}.qz{margin-right:0px}.rt{padding:32px 0}.rx{padding-left:24px}.ry{padding-right:24px}.rz{max-width:728px}.td{width:140px}.te{margin-bottom:16px}.tf{margin-top:30px}.tg{width:100%}.th{flex-direction:row}</style><style type="text/css" data-fela-rehydration="528" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.z{margin:0 24px}.df{font-size:30px}.dg{margin-top:0.72em}.dq{line-height:40px}.dx{font-size:18px}.dy{margin-top:0.79em}.ei{line-height:24px}.ep{margin-top:32px}.ex{margin-bottom:0px}.fx{margin-bottom:30px}.fy{margin-left:0px}.gk{margin-top:1.56em}.gv{line-height:28px}.hb{padding-top:0}.hl{margin-top:1.2em}.hu{margin-top:0.67em}.id{margin-top:40px}.kq{margin-left:8px}.le{margin-top:2px}.lf{margin-right:8px}.lx{margin-left:16px}.mw{width:15px}.oq{font-size:22px}.oz{width:calc(100% + 24px)}.pa{margin-left:-12px}.pb{margin-right:-12px}.po{padding-left:12px}.pp{padding-right:12px}.pq{flex-basis:100%}.pr{max-width:100%}.qm{margin-right:16px}.qp{font-size:15px}.qq{line-height:18px}.rb{max-width:48px}.rc{max-height:48px}.ru{padding-left:24px}.rv{padding-right:24px}.rw{max-width:552px}</style><style type="text/css" data-fela-rehydration="528" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.ae{margin:0 64px}.dl{font-size:40px}.dm{margin-top:0.78em}.dt{line-height:48px}.ed{font-size:24px}.ee{margin-top:0.79em}.el{line-height:32px}.go{font-size:21px}.gp{margin-top:2em}.he{padding-top:7px}.hp{font-size:34px}.hq{margin-top:1.95em}.hx{margin-top:0.86em}.ig{margin-top:56px}.ou{font-size:28px}.ov{line-height:36px}.pi{width:calc(100% + 32px)}.pj{margin-left:-16px}.pk{margin-right:-16px}.qa{padding-left:16px}.qb{padding-right:16px}.qc{flex-basis:25%}.qd{max-width:25%}.qv{font-size:18px}.qw{line-height:20px}.rh{max-width:70px}.ri{max-height:70px}</style><style type="text/css" data-fela-rehydration="528" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.ac{margin:0 48px}.dj{font-size:40px}.dk{margin-top:0.78em}.ds{line-height:48px}.eb{font-size:24px}.ec{margin-top:0.79em}.ek{line-height:32px}.gm{font-size:21px}.gn{margin-top:2em}.hd{padding-top:7px}.hn{font-size:34px}.ho{margin-top:1.95em}.hw{margin-top:0.86em}.if{margin-top:56px}.os{font-size:28px}.ot{line-height:36px}.pf{width:calc(100% + 28px)}.pg{margin-left:-14px}.ph{margin-right:-14px}.pw{padding-left:14px}.px{padding-right:14px}.py{flex-basis:50%}.pz{max-width:50%}.qt{font-size:15px}.qu{line-height:18px}.rf{max-width:48px}.rg{max-height:48px}</style><style type="text/css" data-fela-rehydration="528" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.ab{margin:0 24px}.dh{font-size:30px}.di{margin-top:0.72em}.dr{line-height:40px}.dz{font-size:18px}.ea{margin-top:0.79em}.ej{line-height:24px}.gl{margin-top:1.56em}.gw{line-height:28px}.hc{padding-top:0}.hm{margin-top:1.2em}.hv{margin-top:0.67em}.ie{margin-top:40px}.or{font-size:22px}.pc{width:calc(100% + 24px)}.pd{margin-left:-12px}.pe{margin-right:-12px}.ps{padding-left:12px}.pt{padding-right:12px}.pu{flex-basis:100%}.pv{max-width:100%}.qr{font-size:15px}.qs{line-height:18px}.rd{max-width:48px}.re{max-height:48px}</style><style type="text/css" data-fela-rehydration="528" data-fela-type="RULE" media="print">.y{display:none}</style><style type="text/css" data-fela-rehydration="528" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.kh{transition:opacity 200ms}.mf{transition:border-color 150ms ease}.mg::before{background:
      radial-gradient(circle, rgba(0, 0, 0, 0.84) 60%, transparent 70%)
    }.mh::before{border-radius:50%}.mi::before{content:""}.mj::before{display:block}.mk::before{z-index:0}.ml::before{left:0}.mm::before{height:100%}.mn::before{position:absolute}.mo::before{top:0}.mp::before{width:100%}.mq:hover::before{animation:k1 2000ms infinite cubic-bezier(.1,.12,.25,1)}.mu{transition:fill 200ms ease}</style><style type="text/css" data-fela-rehydration="528" data-fela-type="RULE" media="all and (max-width: 1230px)">.ki{display:none}</style><style type="text/css" data-fela-rehydration="528" data-fela-type="RULE" media="all and (max-width: 1198px)">.kk{display:none}</style></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><script>if (window.self !== window.top) window.top.location = window.self.location.href</script><script>window.PARSELY = window.PARSELY || {autotrack: false}</script><nav class="r s t u v c w x y"><div><div class="n p"><div class="z ab ac ae af ag ah ai"><div class="aj n o ak al"><div class="r am w"><div class="n o"><a aria-label="Homepage" rel="noopener" href="https://medium.com/?source=post_page-----56a2d7c4e931----------------------"><div class="ba g"><svg height="22" width="112" viewBox="0 0 111.5 22" class="q"><path d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z"></path></svg></div><div class="r bb"><svg width="35" height="35" viewBox="5 5 35 35" class="q"><path d="M5 40V5h35v35H5zm8.56-12.63c0 .56-.03.69-.32 1.03L10.8 31.4v.4h6.97v-.4L15.3 28.4c-.29-.34-.34-.5-.34-1.03v-8.95l6.13 13.36h.71l5.26-13.36v10.64c0 .3 0 .35-.19.53l-1.85 1.8v.4h9.2v-.4l-1.83-1.8c-.18-.18-.2-.24-.2-.53V15.94c0-.3.02-.35.2-.53l1.82-1.8v-.4h-6.47l-4.62 11.55-5.2-11.54h-6.8v.4l2.15 2.63c.24.3.29.37.29.77v10.35z"></path></svg></div></a><div class="ba g"><div class="bc" id="lo-general-navbar-open-in-app-button"><div class="bd ba bb"><a href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F56a2d7c4e931&amp;~feature=LoMobileNavBar&amp;~channel=ShowPostUnderUser&amp;source=post_page-----56a2d7c4e931----------------------" class="be bf bg bh bi bj bk bl bm bn bo bp bq br bs bt" rel="noopener nofollow">Open in app</a></div></div> </div><div class="ba al"><div class="bu bv r g"><svg width="2" height="29"><path d="M1 29V1" stroke="#D5D5D5" stroke-width="0.5" fill="none" stroke-linecap="round"></path></svg></div><div class="bc" id="lo-post-page-navbar-topic-copy"><a href="https://medium.com/topic/?source=post_page-----56a2d7c4e931----------------------" rel="noopener"><div class="an ao ap aq ar as at au av aw ax ay az"></div></a></div></div></div></div><div class="r bw w"><div class="n o"><div class="n g"><div class="bc" id="lo-post-page-navbar-upsell-button"><div><a href="https://medium.com/membership?source=upgrade_membership---nav_full------------------------" class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc" rel="noopener"><span class="cd b ce cf cg ch r ci cj">Become a member</span></a></div></div><div class="bc" id="lo-post-page-navbar-sign-in-link"><div class="bd r"><span class="cd b ce cf cg ch r ci cj"><a href="https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2F%40colin.fraser%2Fthe-treachery-of-leakage-56a2d7c4e931&amp;source=post_page-----56a2d7c4e931----------------------" class="be bf bg bh bi bj bk bl bm bn bo bp bq br bs bt" rel="noopener">Sign in</a></span></div></div></div></div></div></div></div></div></div></nav><div class="ck aj r cl ak"></div><article><section class="cm cn co cp ai cq cr r"></section><span class="r"></span><div><div class="s u cs ct cu cv"></div><section class="cw cx cy cz da"><div class="n p"><div class="z ab ac ae af db ah ai"><div><div id="8cbe" class="dc dd ap ce de b df dg dh di dj dk dl dm dn do dp"><h1 class="de b df dq dh dr dj ds dl dt dn du ap">The Treachery of Leakage</h1></div></div><h2 id="aa51" class="dv dd ci ce cd dw dx dy ei dz ea ej eb ec ek ed ee el ef eg em eh">How to avoid letting a model cheat on you and break your heart</h2><div class="en"><div class="n eo ep eq er"><div class="o n"><div><a rel="noopener" href="https://medium.com/@colin.fraser?source=post_page-----56a2d7c4e931----------------------"><img alt="Colin Fraser" class="r es et eu" src="./The Treachery of Leakage - Colin Fraser - Medium_files/1_MtaL4xPr-IvvmU1bPbHlJw.jpeg" width="48" height="48"></a></div><div class="ev ai r"><div class="n"><div style="flex:1"><span class="cd b ce cf cg ch r ap q"><div class="ew n o ex"><span class="cd dw ey cf av ez fa as at au ap"><a class="bx by bg bh bi bj bk bl bm bn fb bq br cb cc" rel="noopener" href="https://medium.com/@colin.fraser?source=post_page-----56a2d7c4e931----------------------">Colin Fraser</a></span><div class="fc r bw h"><button class="fd ap q fe ff fg fh fi bn cb fj fk fl fm fn fo fp cd b ce fq fr ch fs ft cr fu fv bq">Follow</button></div></div></span></div></div><span class="cd b ce cf cg ch r ci cj"><span class="cd dw ey cf av ez fa as at au ci"><div><a class="bx by bg bh bi bj bk bl bm bn fb bq br cb cc" rel="noopener" href="https://medium.com/@colin.fraser/the-treachery-of-leakage-56a2d7c4e931?source=post_page-----56a2d7c4e931----------------------">Aug 24, 2016</a> <!-- -->·<!-- --> <!-- -->11<!-- --> min read</div></span></span></div></div><div class="n fw fx fy fz ga gb gc gd y"><div class="n o"><div class="ge r bw"><a href="https://medium.com/p/56a2d7c4e931/share/twitter?source=post_actions_header---------------------------" class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc" target="_blank" rel="noopener nofollow"><svg width="29" height="29" class="q"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></a></div><div class="ge r bw"><button class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc"><svg width="29" height="29" viewBox="0 0 29 29" fill="none" class="q"><path d="M5 6.36C5 5.61 5.63 5 6.4 5h16.2c.77 0 1.4.61 1.4 1.36v16.28c0 .75-.63 1.36-1.4 1.36H6.4c-.77 0-1.4-.6-1.4-1.36V6.36z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M10.76 20.9v-8.57H7.89v8.58h2.87zm-1.44-9.75c1 0 1.63-.65 1.63-1.48-.02-.84-.62-1.48-1.6-1.48-.99 0-1.63.64-1.63 1.48 0 .83.62 1.48 1.59 1.48h.01zM12.35 20.9h2.87v-4.79c0-.25.02-.5.1-.7.2-.5.67-1.04 1.46-1.04 1.04 0 1.46.8 1.46 1.95v4.59h2.87v-4.92c0-2.64-1.42-3.87-3.3-3.87-1.55 0-2.23.86-2.61 1.45h.02v-1.24h-2.87c.04.8 0 8.58 0 8.58z" fill="#fff"></path></svg></button></div><div class="ge r bw"><a href="https://medium.com/p/56a2d7c4e931/share/facebook?source=post_actions_header---------------------------" class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc" target="_blank" rel="noopener nofollow"><svg width="29" height="29" class="q"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></a></div><div class="gf r"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40colin.fraser%2Fthe-treachery-of-leakage-56a2d7c4e931&amp;source=post_actions_header--------------------------bookmark_header-" class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div><div class="gg r am"></div></div></div></div></div><p id="bfb0" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs gt cw"><span class="r gx gy gz ha hb hc hd he hf hg">T</span>here are a lot of ways to screw up when you’re trying to do data science. Some of them are very technical. <em class="hh">Leakage </em>is not one of those very technical screw-ups. In fact, you hardly have to know anything about mathematics or statistics or computer science at all to understand the basic premise of leakage. However, it is one of the sneakiest, most sinister, and widespread mistakes a data scientist can make. The <em class="hh">Handbook of Statistical Analysis and Data Mining Applications </em>calls leakage one of the top ten data mining mistakes. I might put it at number one.</p><p id="bf94" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">The most fascinating thing about leakage — in a sort of can’t-take-my-eyes-off-the-car-crash kind of a way — is the betrayal. The broken promises. The heartbreak. Your model performs way better than you expect it to in the test set. It’s almost too good to be true. A part of you knows that no one model should have all that power, and yet, the numbers are right in front of you, showing you that you can predict the stock market with 90% accuracy or perfectly predict what product online customers will buy next. You know that you should think about this but the temptation to simply pat yourself on the back for building the world’s greatest data mining algorithm is too great. Your eyes turn into dollar signs. You’ll be famous. You’re the greatest data scientist of all time. You’re a hero.</p><p id="0285" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">But when you release your model into the wild, something awful happens. Not only does the model perform worse than it did in your test runs — you thought that might happen — it falls flat on its face. It doesn’t make a single accurate prediction. In fact, in the most insidious cases of leakage, the model actually performs worse than flipping a coin, and you’d have been better off not building it at all. The model that you trained and tested for hours, that made all these promises to you about giant AUCs and tiny RMSEs and whatever other gauntlet of evaluation criteria you threw at it, is spitting in your face. It lied to you. It played you. Why?</p><p id="5f88" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">And what’s frustrating is this: the culprit is usually an obvious little mistake that you made right at the very beginning of the project. You can spend five hundred hours building and tuning some fancy algorithm that leverages all of the state-of-the-art machine learning tools that we have available today, and it will all be for nothing if you screw up and allow data leakage into your training data from the start.</p><h1 id="b065" class="hi hj ap ce cd hk df hl dh hm hn ho hp hq hr hs ht">When is a data leaky?</h1><p id="f068" class="gh gu ap ce gj b dx hu gv dz hv gw gm hw ek go hx el gq hy em gs cw">Machine learning experts have struggled a little bit to come up with a single formal definition of leakage, and perhaps it is best understood first by example. This is a modified version of an example that is presented in <a href="http://dl.acm.org/citation.cfm?id=2020496" class="bx fv hz ia ib ic" target="_blank" rel="noopener nofollow"><em class="hh">Leakage in Data Mining: Formulation, Detection, and Avoidance</em></a><em class="hh">, </em>which has many more examples and ideas on this topic if you’re interested. Suppose you’re a data scientist working at some kind of online store, and you’re trying to build a model to predict, based on past purchases, whether a customer is likely to buy jewelry. You gather a massive dataset containing purchase histories for every single customer who has ever shopped at the store, along with their total spend on each of the three product categories that the store sells. Maybe it looks something like this:</p><pre class="id ie if ig ih ii ij ik"><span id="5273" class="il hj ap ce im b ey in io r ip">  CUSTOMER JEWELRY  MOVIES ELECTRONICS<br>     11123 1003.23   24.99     1594.95 <br>     11124    0.00   96.45        0.00 <br>     11125   58.12    0.00        0.00 <br>     11126    0.00  549.20      190.67 <br>     11127    8.23 2400.10      523.45 <br>       ...     ...     ...         ... </span></pre><p id="b0d6" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">Using this dataset, your plan is to build a model which predicts whether a customer buys jewelry as a function of their spending on movies and electronics.</p><p id="2632" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">You’ve just committed leakage. You’re already hooped. You’ve built a leaky dataset, and any model that you train on this data, no matter how many tens of hours you put into boosting and bagging and deep learning and validating and cross-validating and whatever else you can imagine, is doomed to betray you from the start. In fact, in many cases, <em class="hh">the better your model performs in testing, the worse it will in real life. </em>Such is the treachery of leakage.</p><p id="f0d6" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">Can you see why? It has to do with customer 11125.</p><p id="1cd1" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">Customer 11125 has 0 spend on movies and 0 spend on electronics. If the store only sells jewelry, movies, and electronics, then the only way that customer 11125 can possibly be in the dataset is if he bought jewelry. Due to the way that the data was collected and formatted, the condition of having 0 spend on movies and electronics <em class="hh">logically implies </em>the condition of having bought jewelry.</p><p id="a76d" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">Any half decent model will learn this little tidbit and use it to make perfect predictions about the customers with 0 spend on movies and electronics. And if there are a lot of those customers in the data, then your model will make a whole lot of perfect predictions in testing. And that will look pretty good.</p><p id="1110" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">But it’s a mirage. Again, the condition of having positive spend on jewelry is logically implied by the condition of having 0 spend on electronics and movies in this dataset. The model correctly identifies that customers who bought jewelry bought jewelry. This is an unhelpful identification.</p><p id="f72c" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">Information is in some sense <em class="hh">leaking</em> from the features — information that the model has no right to see. There’s some kind of giveaway in the data about the outcomes that you’re trying to predict, and the model uses that giveaway to cheat and make better predictions than would be possible in real life. You model has learned something, but the thing that it learned is a quirk of the <em class="hh">data </em>and not something about the <em class="hh">customers</em> that you’re actually trying to model.</p><h1 id="4a4b" class="hi hj ap ce cd hk df hl dh hm hn ho hp hq hr hs ht">Freedom of Information</h1><p id="11d1" class="gh gu ap ce gj b dx hu gv dz hv gw gm hw ek go hx el gq hy em gs cw">What information does your model have the right to see? That can be a tricky question to answer, but it is the key spotting and correcting leakage. Leakage is present when your features contain information that your model should not legitimately be allowed to use. But <em class="hh">legitimacy </em>is not always obvious, or even unambiguously defined. For instance, consider the case of a classifier that looks at an image and decides whether it contains a wolf or a dog. You train it on some images like these.</p><figure class="id ie if ig ih ir co cp paragraph-image"><div class="co cp iq"><div class="ix r hg iy"><div class="iz ja r"><div class="is it s t u iu ai av iv iw"><img class="s t u iu ai jb jc jd" src="./The Treachery of Leakage - Colin Fraser - Medium_files/1_1EkjNl2GhNDfWfT-7oJ85g.jpeg" width="640" height="426" role="presentation"></div><img class="is it s t u iu ai je" width="640" height="426" srcset="https://miro.medium.com/max/552/1*1EkjNl2GhNDfWfT-7oJ85g.jpeg 276w, https://miro.medium.com/max/1104/1*1EkjNl2GhNDfWfT-7oJ85g.jpeg 552w, https://miro.medium.com/max/1280/1*1EkjNl2GhNDfWfT-7oJ85g.jpeg 640w" sizes="640px" role="presentation"><noscript><img class="s t u iu ai" src="https://miro.medium.com/max/1280/1*1EkjNl2GhNDfWfT-7oJ85g.jpeg" width="640" height="426" srcSet="https://miro.medium.com/max/552/1*1EkjNl2GhNDfWfT-7oJ85g.jpeg 276w, https://miro.medium.com/max/1104/1*1EkjNl2GhNDfWfT-7oJ85g.jpeg 552w, https://miro.medium.com/max/1280/1*1EkjNl2GhNDfWfT-7oJ85g.jpeg 640w" sizes="640px" role="presentation"/></noscript></div></div></div><figcaption class="jf jg cq co cp jh ji cd dw ey cf ci">Wolf</figcaption></figure><figure class="id ie if ig ih ir co cp paragraph-image"><div class="co cp iq"><div class="ix r hg iy"><div class="jj ja r"><div class="is it s t u iu ai av iv iw"><img class="s t u iu ai jb jc jd" src="./The Treachery of Leakage - Colin Fraser - Medium_files/1_4zZCGXCXzvbktdMnge_0Ew.jpeg" width="640" height="480" role="presentation"></div><img class="is it s t u iu ai je" width="640" height="480" srcset="https://miro.medium.com/max/552/1*4zZCGXCXzvbktdMnge_0Ew.jpeg 276w, https://miro.medium.com/max/1104/1*4zZCGXCXzvbktdMnge_0Ew.jpeg 552w, https://miro.medium.com/max/1280/1*4zZCGXCXzvbktdMnge_0Ew.jpeg 640w" sizes="640px" role="presentation"><noscript><img class="s t u iu ai" src="https://miro.medium.com/max/1280/1*4zZCGXCXzvbktdMnge_0Ew.jpeg" width="640" height="480" srcSet="https://miro.medium.com/max/552/1*4zZCGXCXzvbktdMnge_0Ew.jpeg 276w, https://miro.medium.com/max/1104/1*4zZCGXCXzvbktdMnge_0Ew.jpeg 552w, https://miro.medium.com/max/1280/1*4zZCGXCXzvbktdMnge_0Ew.jpeg 640w" sizes="640px" role="presentation"/></noscript></div></div></div><figcaption class="jf jg cq co cp jh ji cd dw ey cf ci">Dog</figcaption></figure><figure class="id ie if ig ih ir co cp paragraph-image"><div class="co cp iq"><div class="ix r hg iy"><div class="jk ja r"><div class="is it s t u iu ai av iv iw"><img class="s t u iu ai jb jc jd" src="./The Treachery of Leakage - Colin Fraser - Medium_files/1_tOai2YZPqvLLsRqYSq9tpQ.jpeg" width="640" height="424" role="presentation"></div><img class="is it s t u iu ai je" width="640" height="424" srcset="https://miro.medium.com/max/552/1*tOai2YZPqvLLsRqYSq9tpQ.jpeg 276w, https://miro.medium.com/max/1104/1*tOai2YZPqvLLsRqYSq9tpQ.jpeg 552w, https://miro.medium.com/max/1280/1*tOai2YZPqvLLsRqYSq9tpQ.jpeg 640w" sizes="640px" role="presentation"><noscript><img class="s t u iu ai" src="https://miro.medium.com/max/1280/1*tOai2YZPqvLLsRqYSq9tpQ.jpeg" width="640" height="424" srcSet="https://miro.medium.com/max/552/1*tOai2YZPqvLLsRqYSq9tpQ.jpeg 276w, https://miro.medium.com/max/1104/1*tOai2YZPqvLLsRqYSq9tpQ.jpeg 552w, https://miro.medium.com/max/1280/1*tOai2YZPqvLLsRqYSq9tpQ.jpeg 640w" sizes="640px" role="presentation"/></noscript></div></div></div><figcaption class="jf jg cq co cp jh ji cd dw ey cf ci">Wolf</figcaption></figure><figure class="id ie if ig ih ir co cp paragraph-image"><div class="co cp iq"><div class="ix r hg iy"><div class="jj ja r"><div class="is it s t u iu ai av iv iw"><img class="s t u iu ai jb jc jd" src="./The Treachery of Leakage - Colin Fraser - Medium_files/1_k36FAhOiKU-bDI3IHKm60g.jpeg" width="640" height="480" role="presentation"></div><img class="is it s t u iu ai je" width="640" height="480" srcset="https://miro.medium.com/max/552/1*k36FAhOiKU-bDI3IHKm60g.jpeg 276w, https://miro.medium.com/max/1104/1*k36FAhOiKU-bDI3IHKm60g.jpeg 552w, https://miro.medium.com/max/1280/1*k36FAhOiKU-bDI3IHKm60g.jpeg 640w" sizes="640px" role="presentation"><noscript><img class="s t u iu ai" src="https://miro.medium.com/max/1280/1*k36FAhOiKU-bDI3IHKm60g.jpeg" width="640" height="480" srcSet="https://miro.medium.com/max/552/1*k36FAhOiKU-bDI3IHKm60g.jpeg 276w, https://miro.medium.com/max/1104/1*k36FAhOiKU-bDI3IHKm60g.jpeg 552w, https://miro.medium.com/max/1280/1*k36FAhOiKU-bDI3IHKm60g.jpeg 640w" sizes="640px" role="presentation"/></noscript></div></div></div><figcaption class="jf jg cq co cp jh ji cd dw ey cf ci">Dog</figcaption></figure><p id="5d50" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">Your classifier seems to do quite well, identifying most wolves and most dogs in your test set. However, on further investigation (perhaps with a little help from the LIME technique described in <a href="http://arxiv.org/abs/1602.04938" class="bx fv hz ia ib ic" target="_blank" rel="noopener nofollow">the paper that I stole this example from</a>), you determine that your model has simply decided that a “wolf” is a thing on a white background and a “dog” is a thing on a green background. The correct prediction is fully specified by the background color of the image. Is this leakage?</p><p id="29d4" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">That’s a little bit of a hard question. It is undoubtedly true that the color of the background of an image can help to predict the foreground, and humans performing this same classification task probably use the background as a feature in their own assessments. The background is a legitimate feature that rational observer would use to determine the content of an image.</p><figure class="id ie if ig ih ir je jl ft jm gx jn jo jp bl jq jr js jt ju jv paragraph-image"><div class="jw jx hg jy ai"><div class="co cp iq"><div class="ix r hg iy"><div class="jz ja r"><div class="is it s t u iu ai av iv iw"><img class="s t u iu ai jb jc jd" src="./The Treachery of Leakage - Colin Fraser - Medium_files/1_HRA30XSurRlR_4dKsc51Qg.jpeg" width="640" height="425" role="presentation"></div><img class="is it s t u iu ai je" width="640" height="425" srcset="https://miro.medium.com/max/552/1*HRA30XSurRlR_4dKsc51Qg.jpeg 276w, https://miro.medium.com/max/1000/1*HRA30XSurRlR_4dKsc51Qg.jpeg 500w" sizes="500px" role="presentation"><noscript><img class="s t u iu ai" src="https://miro.medium.com/max/1280/1*HRA30XSurRlR_4dKsc51Qg.jpeg" width="640" height="425" srcSet="https://miro.medium.com/max/552/1*HRA30XSurRlR_4dKsc51Qg.jpeg 276w, https://miro.medium.com/max/1000/1*HRA30XSurRlR_4dKsc51Qg.jpeg 500w" sizes="500px" role="presentation"/></noscript></div></div></div></div><figcaption class="jf jg cq co cp jh ji cd dw ey cf ci">Not a wolf</figcaption></figure><p id="8ea1" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">The answer to whether this is a leakage problem or not depends on how you expect your model to generalize. If you expect that the images that your model will be looking at have the property that all of the wolf images will have white backgrounds and all of the dog images won’t, then run with the one you’ve got. It works just fine. On the other hand, if you expect your model to know that a Chihuahua on a blanket is not a wolf, then you do have a leakage problem at the data collection stage. Some quirk about your data collection process gave the background of the image too much predictive power, and your model is using this quirk of the data to cheat on its predictions.</p><h1 id="a310" class="hi hj ap ce cd hk df hl dh hm hn ho hp hq hr hs ht">There’s no such thing as a time machine</h1><p id="6247" class="gh gu ap ce gj b dx hu gv dz hv gw gm hw ek go hx el gq hy em gs cw">The accidental introduction of time-travel into the data is probably the most common source of leakage in machine learning. Due to the way that data is often stored and aggregated, data that are generated at different times may be stored in the same place. A general rule might be: if X happened after Y, you shouldn’t build a model that uses X to predict Y. Claudia Perlich calls this the <em class="hh">No Time Machine Condition </em>(NTMC). A model that determines whether it rains at 9:00 AM as a function of whether the road is wet at 9:05 AM might be very accurate, but it will also be very useless.</p><p id="9c3f" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">Violations of NTMC are usually harder to spot than using the wet road to predict rain. Imagine you’re a data scientist at some kind of SaaS company and you’re trying to build a model to predict customer churn (that is, to predict which customers will cancel their subscriptions). I have helpfully assembled a dataset for you, with an indicator variable marking whether each customer cancelled their subscription in 2015, along with some aggregated statistics for each customer for the year.</p><pre class="id ie if ig ih ii ij ik"><span id="f1e1" class="il hj ap ce im b ey in io r ip">CUSTOMER HELP_DESK_CALLS_2015 DOWNTIME_MINS_2015 CHURNED ...<br>   45220                    4               1293   FALSE ...<br>   45221                    0                  0    TRUE ...<br>   45222                    1                 43    TRUE ...<br>   45223                    4               1001   FALSE ...<br>   45224                    3               6298   FALSE ...<br>     ...                  ...                ...     ... ...</span></pre><p id="0a04" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">CUSTOMER is the customer number, HELP_DESK_CALLS_2015 is the total number of times that the customer called into the help desk in 2015, DOWNTIME_MINS_2015 is the total number of minutes that the customer spent with their product not working properly in 2015, and CHURNED has a value of TRUE if and only if that customer churned at some point in 2015.</p><p id="c2af" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">Can you spot the leakage?</p><p id="bd6b" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">We have violated NTMC. The variable CHURNED indicates whether a customer cancels their account at any point in the year. Our features, HELP_DESK_CALLS_2015 and DOWNTIME_MINS_2015 are yearly totals which are, by definition, only available at the end of the year. There’s no way that we could possibly know the values of these variables before the churn event takes place, so our model has no business using them to predict churn. There is no such thing as a time machine.</p><p id="e456" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">“Well,” I might reply, with a crazed look in my eye that says <em class="hh">don’t make me redo this data collection</em>, “at least we have a model. Maybe there’s some kind of leakage problem with some of the variables, but it’s better than nothing.”</p><p id="8296" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">Is it?</p><p id="49ca" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">Consider the relationship between DOWNTIME_MINS_2015 and CHURNED in the data. DOWNTIME_MINS_2015 is the aggregate total number of minutes that the product was down for the customer in 2015. Consider a customer who churns on January 1, 2015. Her DOWNTIME_MINS_2015 is probably quite low — maybe 0. After all, she’s not even a customer for a single whole day in 2015, so she doesn’t have a very long time to accumulate downtime minutes. If there are many customers like this who cancel early in the year, then the data might contain many examples of churners with small numbers for DOWNTIME_MINS_2015. The model can exploit this pattern in the data to identify customers with low downtime minutes as churners.</p><p id="dd35" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">But this seems like it’s probably the exact opposite of reality! The data collection process results in a negative relationship between the variables DOWNTIME_MINS_2015 and CHURNED, but the real-life process that relates real-life customer churn to real-life downtime minutes could very well have a <em class="hh">positive </em>relationship between those two variables! This results in the perverse outcome where<strong class="gj ka"> the more likely your model says a customer is to churn, the less likely they really are to churn</strong>! Your “predictive model” is not only making inaccurate predictions, it is making predictions which are systematically wrong. You’re anti-predicting! Your churn prediction model predicts non-churn! Data leakage has created a model which truly is worse than having no model at all, all the while performing outstandingly well in backtesting.</p><p id="9785" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">Such is the treachery of leakage.</p><h1 id="ea22" class="hi hj ap ce cd hk df hl dh hm hn ho hp hq hr hs ht">What can you do?</h1><p id="5bb1" class="gh gu ap ce gj b dx hu gv dz hv gw gm hw ek go hx el gq hy em gs cw">I’m going to go out on a limb and claim that most sources of leakage are violations of NTMC, and modelers should be vigilant in ensuring that they are not accidentally introducing time travel into their models. Predictive modelling is usually (but not always) about using today’s data to predict what will happen tomorrow, but since training data is almost always collected after the fact, it is very easy to overlook the temporal sequence of the events that generate the data. This oversight can be huge.</p><p id="48ab" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">In NTMC cases, the fix is straightforward, at least in principle: somehow or another, your dataset needs a time dimension. In the example of the online store, if the dataset had been split into two time periods, where purchases (including jewelry) in time period 1 are used to predict whether a customer purchases jewelry in time period 2, the leakage problem disappears. Moreover, it’s usually the case that the more time information you can provide, the better. If the dataset in the churn prediction model could be rearranged into a <a href="https://en.wikipedia.org/wiki/Panel_data" class="bx fv hz ia ib ic" target="_blank" rel="noopener nofollow">panel format</a>, where we have multiple observations across time for each customer, not only could the leakage issue be resolved, but a much wider array of potential features and models could be considered.</p><p id="148f" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">The single most important thing that you can do to prevent data leakage from seeping into your models is to understand the process that generates the data, and how that process relates to the process that you’re actually trying to simulate in order to form predictions. The whole point of modelling is to learn things about some process out there in the real world, and in some sense to approximate that real-world process. But models don’t see the real-world process. They see the data. Leakage happens when there is some systematic correlation between features and outcomes <em class="hh">in the data </em>that either does not exist or is not observable in the real world. In order to spot that deceptive correlation, it is crucial to understand the data that you are working with. How is it collected? How is it aggregated? What are the criteria for being included in this sample?</p><p id="1782" class="gh gu ap ce gj b dx gk gv dz gl gw gm gn ek go gp el gq gr em gs cw">This level of understanding is not always easy to obtain in many modern data science contexts, where data is collected from disparate sources, possibly with the involvement of multiple people or teams, many of whom won’t have the answers. But when a deep understanding of the data generation process is achieved, it usually makes leakage problems almost obvious, and the fix becomes apparent.</p></div></div></section></div></article><div class="is cv kb kc ai kj kh kk" data-test-id="post-sidebar"><div class="n p"><div class="z ab ac ae af ag ah ai"><div class="kl n km"><div class="cv"><div class="kn ko kp n"><div class="n o"><div class="r hg kq kr ks kt ku"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40colin.fraser%2Fthe-treachery-of-leakage-56a2d7c4e931&amp;source=post_sidebar-----56a2d7c4e931---------------------clap_sidebar-" class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc" rel="noopener"><div class="bl kv kw kx ky kz la lb q lc ld"><svg width="29" height="29"><g fill-rule="evenodd"><path d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></div><div class="r le lf lg lh li lj lk"><div class="ll"><h4 class="cd dw ey cf ci"><button class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc">758<!-- --> </button></h4></div></div></div></div><div class="ko r"></div><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40colin.fraser%2Fthe-treachery-of-leakage-56a2d7c4e931&amp;source=post_sidebar--------------------------post_sidebar-" class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div></div></div><div class="is cv kb kc kd ke kf kg kh ki"></div><div><div class="lm ir n km p"><div class="n p"><div class="z ab ac ae af db ah ai"><div class="n ln"></div><div class="n o ln"></div><div class="lo r"><ul class="bl bm"><li class="fu lp gf lq"><a href="https://medium.com/tag/machine-learning" class="lr ls fv ci r ij lt a b fr">Machine Learning</a></li><li class="fu lp gf lq"><a href="https://medium.com/tag/data-science" class="lr ls fv ci r ij lt a b fr">Data Science</a></li><li class="fu lp gf lq"><a href="https://medium.com/tag/predictive-analytics" class="lr ls fv ci r ij lt a b fr">Predictive Analytics</a></li></ul></div><div class="lu n eo y"><div class="n lv"><div class="lw r"><div class="n o"><div class="r hg lx ly lz ma mb"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40colin.fraser%2Fthe-treachery-of-leakage-56a2d7c4e931&amp;source=post_actions_footer-----56a2d7c4e931---------------------clap_footer-" class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc" rel="noopener"><div class="c mc es n o md hg me mf mg mh mi mj mk ml mm mn mo mp mq mr"><div class="bl kv kw kx ky kz ms lb o je es n p mt u iu s t ai q lc ld mu"><svg width="33" height="33" viewBox="0 0 33 33"><path d="M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z" fill-rule="evenodd"></path></svg></div></div></a></div><div class="r le lf lg lh li lj lk"><div class="hg mv ll"><h4 class="cd dw ey cf ap"><button class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc">758<!-- --> <!-- -->claps</button></h4></div></div></div></div><div class="r mw mx my mz na"></div></div><div class="n o"><div class="ge r bw"><a href="https://medium.com/p/56a2d7c4e931/share/twitter?source=post_actions_footer---------------------------" class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc" target="_blank" rel="noopener nofollow"><svg width="29" height="29" class="q"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></a></div><div class="ge r bw"><button class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc"><svg width="29" height="29" viewBox="0 0 29 29" fill="none" class="q"><path d="M5 6.36C5 5.61 5.63 5 6.4 5h16.2c.77 0 1.4.61 1.4 1.36v16.28c0 .75-.63 1.36-1.4 1.36H6.4c-.77 0-1.4-.6-1.4-1.36V6.36z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M10.76 20.9v-8.57H7.89v8.58h2.87zm-1.44-9.75c1 0 1.63-.65 1.63-1.48-.02-.84-.62-1.48-1.6-1.48-.99 0-1.63.64-1.63 1.48 0 .83.62 1.48 1.59 1.48h.01zM12.35 20.9h2.87v-4.79c0-.25.02-.5.1-.7.2-.5.67-1.04 1.46-1.04 1.04 0 1.46.8 1.46 1.95v4.59h2.87v-4.92c0-2.64-1.42-3.87-3.3-3.87-1.55 0-2.23.86-2.61 1.45h.02v-1.24h-2.87c.04.8 0 8.58 0 8.58z" fill="#fff"></path></svg></button></div><div class="ge r bw"><a href="https://medium.com/p/56a2d7c4e931/share/facebook?source=post_actions_footer---------------------------" class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc" target="_blank" rel="noopener nofollow"><svg width="29" height="29" class="q"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></a></div><div class="nb r bw"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40colin.fraser%2Fthe-treachery-of-leakage-56a2d7c4e931&amp;source=post_actions_footer--------------------------bookmark_footer-" class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div><div class="nc nd ne lo r nf y"><div class="r bb"><div class="ng nh r hg"><span class="r ni al nj"><div class="r s nk nl"><a rel="noopener" href="https://medium.com/@colin.fraser?source=follow_footer--------------------------follow_footer-"><img alt="Colin Fraser" class="r es nm nn" src="./The Treachery of Leakage - Colin Fraser - Medium_files/1_MtaL4xPr-IvvmU1bPbHlJw(1).jpeg" width="80" height="80"></a></div><span class="r"><div class="no r np"><p class="cd dw fr cf ci nq nr">Written by</p></div><div class="no ns n np"><div class="ai n o eo"><h2 class="cd hk nt nu ap"><a class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc" rel="noopener" href="https://medium.com/@colin.fraser?source=follow_footer--------------------------follow_footer-">Colin Fraser</a></h2><div class="r g"><button class="nv ap q fe ff fg fh fi bn cb fj fk fl fm fn fo fp cd b ce cf cg ch fs ft cr fu fv bq">Follow</button></div></div></div></span></span><div class="no nw r np bb"><div class="nx r"><h4 class="cd dw ny nz ci">Data Scientist at Facebook</h4></div><div class="ba oa bb"><button class="nv ap q fe ff fg fh fi bn cb fj fk fl fm fn fo fp cd b ce cf cg ch fs ft cr fu fv bq">Follow</button></div></div></div></div></div><div class="ob nd r oc od y"><a href="https://medium.com/p/56a2d7c4e931/responses/show?source=follow_footer--------------------------follow_footer-" class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc" rel="noopener"><span class="oe of ky"><div class="ii og fp r jg bb"><span class="be">See responses (9)</span></div></span></a></div></div></div><div class="oh r oi y"><div class="n p"><div class="z ab ac ae af ag ah ai"><div class="oj ok r"><div class="ol om on ok r oo op"><h2 class="cd hk oq gv or gw os ot ou ov ow ox ap">More From Medium</h2></div><div class="oy n lv ln oz pa pb pc pd pe pf pg ph pi pj pk pl pm pn"><div class="po pp pq pr ps pt pu pv pw px py pz qa qb qc qd qe qf qg qh qi"><div class="qj qk r"><div class="ai iu"><div class="n eo"><div class="r ql qm qn lz"><div class="qo r"><h2 class="cd hk qp qq qr qs qt qu qv qw qx qy ap"><a href="https://towardsdatascience.com/exploring-univariate-data-e7e2dc8fde80?source=post_internal_links---------0------------------" rel="noopener">Exploring Univariate Data</a></h2></div><div class="o n"><div></div><div class="ai r"><div class="n"><div style="flex:1"><span class="cd b ce cf cg ch r ap q"><div class="ck n o ex"><span class="cd dw fr cf ap"><a class="bx by bg bh bi bj bk bl bm bn fb bq br cb cc" rel="noopener" href="https://medium.com/@terrah27?source=post_internal_links---------0------------------">Tara Boyle</a><span> <!-- -->in<!-- --> <a href="https://towardsdatascience.com/?source=post_internal_links---------0------------------" class="bx by bg bh bi bj bk bl bm bn fb bq br cb cc" rel="noopener">Towards Data Science</a></span></span></div></span></div></div></div></div></div><div class="ev gf r ly qz"><a href="https://towardsdatascience.com/exploring-univariate-data-e7e2dc8fde80?source=post_internal_links---------0------------------" class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc r" rel="noopener"><div class="ix r hg iy"><div class="ra ja r"><div class="is it s t u iu ai av iv iw"><img class="s t u iu ai jb jc jd" src="./The Treachery of Leakage - Colin Fraser - Medium_files/1_mDODtjvu1psr-_wHigtI_w.jpeg" width="4469" height="2979" role="presentation"></div><img class="is it rb rc rd re rf rg rh ri rj rk je" srcset="https://miro.medium.com/proxy/1*mDODtjvu1psr-_wHigtI_w.jpeg 48w, https://miro.medium.com/proxy/1*mDODtjvu1psr-_wHigtI_w.jpeg 70w" sizes="70px" role="presentation"><noscript><img class="rb rc rd re rf rg rh ri rj rk" src="https://miro.medium.com/proxy/1*mDODtjvu1psr-_wHigtI_w.jpeg" width="4469" height="2979" srcSet="https://miro.medium.com/proxy/1*mDODtjvu1psr-_wHigtI_w.jpeg 48w, https://miro.medium.com/proxy/1*mDODtjvu1psr-_wHigtI_w.jpeg 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="po pp pq pr ps pt pu pv pw px py pz qa qb qc qd qe qf qg qh qi"><div class="qj qk r"><div class="ai iu"><div class="n eo"><div class="r ql qm qn lz"><div class="qo r"><h2 class="cd hk qp qq qr qs qt qu qv qw qx qy ap"><a rel="noopener" href="https://medium.com/vickdata/four-feature-types-and-how-to-transform-them-for-machine-learning-8693e1c24e80?source=post_internal_links---------1------------------">Feature Transformation for Machine Learning, a Beginners Guide</a></h2></div><div class="o n"><div></div><div class="ai r"><div class="n"><div style="flex:1"><span class="cd b ce cf cg ch r ap q"><div class="ck n o ex"><span class="cd dw fr cf ap"><a class="bx by bg bh bi bj bk bl bm bn fb bq br cb cc" rel="noopener" href="https://medium.com/@rebecca.vickery?source=post_internal_links---------1------------------">Rebecca Vickery</a><span> <!-- -->in<!-- --> <a href="https://medium.com/vickdata?source=post_internal_links---------1------------------" class="bx by bg bh bi bj bk bl bm bn fb bq br cb cc" rel="noopener">vickdata</a></span></span></div></span></div></div></div></div></div><div class="ev gf r ly qz"><a class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc r" rel="noopener" href="https://medium.com/vickdata/four-feature-types-and-how-to-transform-them-for-machine-learning-8693e1c24e80?source=post_internal_links---------1------------------"><div class="ix r hg iy"><div class="rl ja r"><div class="is it s t u iu ai av iv iw"><img class="s t u iu ai jb jc jd" src="./The Treachery of Leakage - Colin Fraser - Medium_files/1_Yc805VYvdznpmo2hzg4YLg.png" width="1674" height="898" role="presentation"></div><img class="is it rb rc rd re rf rg rh ri rj rk je" srcset="https://miro.medium.com/proxy/1*Yc805VYvdznpmo2hzg4YLg.png 48w, https://miro.medium.com/proxy/1*Yc805VYvdznpmo2hzg4YLg.png 70w" sizes="70px" role="presentation"><noscript><img class="rb rc rd re rf rg rh ri rj rk" src="https://miro.medium.com/proxy/1*Yc805VYvdznpmo2hzg4YLg.png" width="1674" height="898" srcSet="https://miro.medium.com/proxy/1*Yc805VYvdznpmo2hzg4YLg.png 48w, https://miro.medium.com/proxy/1*Yc805VYvdznpmo2hzg4YLg.png 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="po pp pq pr ps pt pu pv pw px py pz qa qb qc qd qe qf qg qh qi"><div class="qj qk r"><div class="ai iu"><div class="n eo"><div class="r ql qm qn lz"><div class="qo r"><h2 class="cd hk qp qq qr qs qt qu qv qw qx qy ap"><a href="https://towardsdatascience.com/how-to-visualize-a-decision-tree-in-5-steps-19781b28ffe2?source=post_internal_links---------2------------------" rel="noopener">How to Visualize a Decision Tree In 3 Steps with Python (2020)</a></h2></div><div class="o n"><div></div><div class="ai r"><div class="n"><div style="flex:1"><span class="cd b ce cf cg ch r ap q"><div class="ck n o ex"><span class="cd dw fr cf ap"><a class="bx by bg bh bi bj bk bl bm bn fb bq br cb cc" rel="noopener" href="https://medium.com/@justintodata?source=post_internal_links---------2------------------">Lianne &amp; Justin @ Just into Data</a><span> <!-- -->in<!-- --> <a href="https://towardsdatascience.com/?source=post_internal_links---------2------------------" class="bx by bg bh bi bj bk bl bm bn fb bq br cb cc" rel="noopener">Towards Data Science</a></span></span></div></span></div></div></div></div></div><div class="ev gf r ly qz"><a href="https://towardsdatascience.com/how-to-visualize-a-decision-tree-in-5-steps-19781b28ffe2?source=post_internal_links---------2------------------" class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc r" rel="noopener"><div class="ix r hg iy"><div class="rm ja r"><div class="is it s t u iu ai av iv iw"><img class="s t u iu ai jb jc jd" src="./The Treachery of Leakage - Colin Fraser - Medium_files/0_dM1rEgCDoOYEjOJH" width="5184" height="3456" role="presentation"></div><img class="is it rb rc rd re rf rg rh ri rj rk je" srcset="https://miro.medium.com/proxy/0*dM1rEgCDoOYEjOJH 48w, https://miro.medium.com/proxy/0*dM1rEgCDoOYEjOJH 70w" sizes="70px" role="presentation"><noscript><img class="rb rc rd re rf rg rh ri rj rk" src="https://miro.medium.com/proxy/0*dM1rEgCDoOYEjOJH" width="5184" height="3456" srcSet="https://miro.medium.com/proxy/0*dM1rEgCDoOYEjOJH 48w, https://miro.medium.com/proxy/0*dM1rEgCDoOYEjOJH 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="po pp pq pr ps pt pu pv pw px py pz qa qb qc qd qe qf qg qh qi"><div class="qj qk r"><div class="ai iu"><div class="n eo"><div class="r ql qm qn lz"><div class="qo r"><h2 class="cd hk qp qq qr qs qt qu qv qw qx qy ap"><a rel="noopener" href="https://medium.com/swlh/end-to-end-machine-learning-project-part-1-806d04da8deb?source=post_internal_links---------3------------------">End-to-End Machine Learning Project: Part-1</a></h2></div><div class="o n"><div></div><div class="ai r"><div class="n"><div style="flex:1"><span class="cd b ce cf cg ch r ap q"><div class="ck n o ex"><span class="cd dw fr cf ap"><a class="bx by bg bh bi bj bk bl bm bn fb bq br cb cc" rel="noopener" href="https://medium.com/@impiyush?source=post_internal_links---------3------------------">Piyush Agarwal</a><span> <!-- -->in<!-- --> <a href="https://medium.com/swlh?source=post_internal_links---------3------------------" class="bx by bg bh bi bj bk bl bm bn fb bq br cb cc" rel="noopener">The Startup</a></span></span></div></span></div></div></div></div></div><div class="ev gf r ly qz"><a class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc r" rel="noopener" href="https://medium.com/swlh/end-to-end-machine-learning-project-part-1-806d04da8deb?source=post_internal_links---------3------------------"><div class="ix r hg iy"><div class="rn ja r"><div class="is it s t u iu ai av iv iw"><img class="s t u iu ai jb jc jd" src="./The Treachery of Leakage - Colin Fraser - Medium_files/0_uO2f1jAU78B-C7lD" width="3907" height="2928" role="presentation"></div><img class="is it rb rc rd re rf rg rh ri rj rk je" srcset="https://miro.medium.com/proxy/0*uO2f1jAU78B-C7lD 48w, https://miro.medium.com/proxy/0*uO2f1jAU78B-C7lD 70w" sizes="70px" role="presentation"><noscript><img class="rb rc rd re rf rg rh ri rj rk" src="https://miro.medium.com/proxy/0*uO2f1jAU78B-C7lD" width="3907" height="2928" srcSet="https://miro.medium.com/proxy/0*uO2f1jAU78B-C7lD 48w, https://miro.medium.com/proxy/0*uO2f1jAU78B-C7lD 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="po pp pq pr ps pt pu pv pw px py pz qa qb qc qd qe qf qg qh qi"><div class="qj qk r"><div class="ai iu"><div class="n eo"><div class="r ql qm qn lz"><div class="qo r"><h2 class="cd hk qp qq qr qs qt qu qv qw qx qy ap"><a href="https://towardsdatascience.com/columntransformer-in-scikit-for-labelencoding-and-onehotencoding-in-machine-learning-c6255952731b?source=post_internal_links---------4------------------" rel="noopener">ColumnTransformer in SciKit for LabelEncoding and OneHotEncoding in Machine Learning</a></h2></div><div class="o n"><div></div><div class="ai r"><div class="n"><div style="flex:1"><span class="cd b ce cf cg ch r ap q"><div class="ck n o ex"><span class="cd dw fr cf ap"><a class="bx by bg bh bi bj bk bl bm bn fb bq br cb cc" rel="noopener" href="https://medium.com/@contactsunny?source=post_internal_links---------4------------------">Sunny Srinidhi</a><span> <!-- -->in<!-- --> <a href="https://towardsdatascience.com/?source=post_internal_links---------4------------------" class="bx by bg bh bi bj bk bl bm bn fb bq br cb cc" rel="noopener">Towards Data Science</a></span></span></div></span></div></div></div></div></div><div class="ev gf r ly qz"><a href="https://towardsdatascience.com/columntransformer-in-scikit-for-labelencoding-and-onehotencoding-in-machine-learning-c6255952731b?source=post_internal_links---------4------------------" class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc r" rel="noopener"><div class="ix r hg iy"><div class="ro ja r"><div class="is it s t u iu ai av iv iw"><img class="s t u iu ai jb jc jd" src="./The Treachery of Leakage - Colin Fraser - Medium_files/1_Xx7E38hzti3-7dbQZoD-4Q.jpeg" width="770" height="476" role="presentation"></div><img class="is it rb rc rd re rf rg rh ri rj rk je" srcset="https://miro.medium.com/proxy/1*Xx7E38hzti3-7dbQZoD-4Q.jpeg 48w, https://miro.medium.com/proxy/1*Xx7E38hzti3-7dbQZoD-4Q.jpeg 70w" sizes="70px" role="presentation"><noscript><img class="rb rc rd re rf rg rh ri rj rk" src="https://miro.medium.com/proxy/1*Xx7E38hzti3-7dbQZoD-4Q.jpeg" width="770" height="476" srcSet="https://miro.medium.com/proxy/1*Xx7E38hzti3-7dbQZoD-4Q.jpeg 48w, https://miro.medium.com/proxy/1*Xx7E38hzti3-7dbQZoD-4Q.jpeg 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="po pp pq pr ps pt pu pv pw px py pz qa qb qc qd qe qf qg qh qi"><div class="qj qk r"><div class="ai iu"><div class="n eo"><div class="r ql qm qn lz"><div class="qo r"><h2 class="cd hk qp qq qr qs qt qu qv qw qx qy ap"><a href="https://towardsdatascience.com/how-to-visualize-a-decision-tree-from-a-random-forest-in-python-using-scikit-learn-38ad2d75f21c?source=post_internal_links---------5------------------" rel="noopener">How to Visualize a Decision Tree from a Random Forest in Python using Scikit-Learn</a></h2></div><div class="o n"><div></div><div class="ai r"><div class="n"><div style="flex:1"><span class="cd b ce cf cg ch r ap q"><div class="ck n o ex"><span class="cd dw fr cf ap"><a class="bx by bg bh bi bj bk bl bm bn fb bq br cb cc" rel="noopener" href="https://medium.com/@williamkoehrsen?source=post_internal_links---------5------------------">Will Koehrsen</a><span> <!-- -->in<!-- --> <a href="https://towardsdatascience.com/?source=post_internal_links---------5------------------" class="bx by bg bh bi bj bk bl bm bn fb bq br cb cc" rel="noopener">Towards Data Science</a></span></span></div></span></div></div></div></div></div><div class="ev gf r ly qz"><a href="https://towardsdatascience.com/how-to-visualize-a-decision-tree-from-a-random-forest-in-python-using-scikit-learn-38ad2d75f21c?source=post_internal_links---------5------------------" class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc r" rel="noopener"><div class="ix r hg iy"><div class="rm ja r"><div class="is it s t u iu ai av iv iw"><img class="s t u iu ai jb jc jd" src="./The Treachery of Leakage - Colin Fraser - Medium_files/1_lAhJt7bvEDxT4DEdd29yCA.jpeg" width="2250" height="1500" role="presentation"></div><img class="is it rb rc rd re rf rg rh ri rj rk je" srcset="https://miro.medium.com/proxy/1*lAhJt7bvEDxT4DEdd29yCA.jpeg 48w, https://miro.medium.com/proxy/1*lAhJt7bvEDxT4DEdd29yCA.jpeg 70w" sizes="70px" role="presentation"><noscript><img class="rb rc rd re rf rg rh ri rj rk" src="https://miro.medium.com/proxy/1*lAhJt7bvEDxT4DEdd29yCA.jpeg" width="2250" height="1500" srcSet="https://miro.medium.com/proxy/1*lAhJt7bvEDxT4DEdd29yCA.jpeg 48w, https://miro.medium.com/proxy/1*lAhJt7bvEDxT4DEdd29yCA.jpeg 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="po pp pq pr ps pt pu pv pw px py pz qa qb qc qd qe qf qg qh qi"><div class="qj qk r"><div class="ai iu"><div class="n eo"><div class="r ql qm qn lz"><div class="qo r"><h2 class="cd hk qp qq qr qs qt qu qv qw qx qy ap"><a href="https://towardsdatascience.com/optimizing-hyperparameters-in-random-forest-classification-ec7741f9d3f6?source=post_internal_links---------6------------------" rel="noopener">Optimizing Hyperparameters in Random Forest Classification</a></h2></div><div class="o n"><div></div><div class="ai r"><div class="n"><div style="flex:1"><span class="cd b ce cf cg ch r ap q"><div class="ck n o ex"><span class="cd dw fr cf ap"><a class="bx by bg bh bi bj bk bl bm bn fb bq br cb cc" rel="noopener" href="https://medium.com/@reillymeinert?source=post_internal_links---------6------------------">Reilly Meinert</a><span> <!-- -->in<!-- --> <a href="https://towardsdatascience.com/?source=post_internal_links---------6------------------" class="bx by bg bh bi bj bk bl bm bn fb bq br cb cc" rel="noopener">Towards Data Science</a></span></span></div></span></div></div></div></div></div><div class="ev gf r ly qz"><a href="https://towardsdatascience.com/optimizing-hyperparameters-in-random-forest-classification-ec7741f9d3f6?source=post_internal_links---------6------------------" class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc r" rel="noopener"><div class="ix r hg iy"><div class="rp ja r"><div class="is it s t u iu ai av iv iw"><img class="s t u iu ai jb jc jd" src="./The Treachery of Leakage - Colin Fraser - Medium_files/0_DxMTqkkqP76guz98" width="1010" height="580" role="presentation"></div><img class="is it rb rc rd re rf rg rh ri rj rk je" srcset="https://miro.medium.com/proxy/0*DxMTqkkqP76guz98 48w, https://miro.medium.com/proxy/0*DxMTqkkqP76guz98 70w" sizes="70px" role="presentation"><noscript><img class="rb rc rd re rf rg rh ri rj rk" src="https://miro.medium.com/proxy/0*DxMTqkkqP76guz98" width="1010" height="580" srcSet="https://miro.medium.com/proxy/0*DxMTqkkqP76guz98 48w, https://miro.medium.com/proxy/0*DxMTqkkqP76guz98 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="po pp pq pr ps pt pu pv pw px py pz qa qb qc qd qe qf qg qh qi"><div class="qj qk r"><div class="ai iu"><div class="n eo"><div class="r ql qm qn lz"><div class="qo r"><h2 class="cd hk qp qq qr qs qt qu qv qw qx qy ap"><a href="https://towardsdatascience.com/scikit-learn-decision-trees-explained-803f3812290d?source=post_internal_links---------7------------------" rel="noopener">Scikit-Learn Decision Trees Explained</a></h2></div><div class="o n"><div></div><div class="ai r"><div class="n"><div style="flex:1"><span class="cd b ce cf cg ch r ap q"><div class="ck n o ex"><span class="cd dw fr cf ap"><a class="bx by bg bh bi bj bk bl bm bn fb bq br cb cc" rel="noopener" href="https://medium.com/@frank.ceballos?source=post_internal_links---------7------------------">Frank Ceballos</a><span> <!-- -->in<!-- --> <a href="https://towardsdatascience.com/?source=post_internal_links---------7------------------" class="bx by bg bh bi bj bk bl bm bn fb bq br cb cc" rel="noopener">Towards Data Science</a></span></span></div></span></div></div></div></div></div><div class="ev gf r ly qz"><a href="https://towardsdatascience.com/scikit-learn-decision-trees-explained-803f3812290d?source=post_internal_links---------7------------------" class="bx by bg bh bi bj bk bl bm bn bz ca bq br cb cc r" rel="noopener"><div class="ix r hg iy"><div class="rq ja r"><div class="is it s t u iu ai av iv iw"><img class="s t u iu ai jb jc jd" src="./The Treachery of Leakage - Colin Fraser - Medium_files/1_gql3YU01S-BUiCt8mgE66w.png" width="484" height="419" role="presentation"></div><img class="is it rb rc rd re rf rg rh ri rj rk je" srcset="https://miro.medium.com/proxy/1*gql3YU01S-BUiCt8mgE66w.png 48w, https://miro.medium.com/proxy/1*gql3YU01S-BUiCt8mgE66w.png 70w" sizes="70px" role="presentation"><noscript><img class="rb rc rd re rf rg rh ri rj rk" src="https://miro.medium.com/proxy/1*gql3YU01S-BUiCt8mgE66w.png" width="484" height="419" srcSet="https://miro.medium.com/proxy/1*gql3YU01S-BUiCt8mgE66w.png 48w, https://miro.medium.com/proxy/1*gql3YU01S-BUiCt8mgE66w.png 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div><div class="rr r rs rt"><section class="co cp ai cr r ru rv rw rx ry rz sa sb sc sd se sf sg sh si"><div class="sj sk ng n eo g"><div class="sl n eo"><div class="sm r sn"><div class="so r"><a class="bx by bg bh bi bj bk bl bm bn sp sq bq br sr ss" rel="noopener" href="https://medium.com/about?autoplay=1&amp;source=post_page-----56a2d7c4e931----------------------"><h4 class="st su sv cd hk ce nz sw sx r">Discover <!-- -->Medium</h4></a></div><span class="cd b ce cf cg ch r sy sz">Welcome to a place where words matter. On <!-- -->Medium<!-- -->, smart voices and original ideas take center stage - with no ads in sight.<!-- --> <a class="bx by bg bh bi bj bk bl bm bn bq br sr ss ta" rel="noopener" href="https://medium.com/about?autoplay=1&amp;source=post_page-----56a2d7c4e931----------------------">Watch</a></span></div><div class="sm r sn"><div class="qo r"><a href="https://medium.com/topics?source=post_page-----56a2d7c4e931----------------------" class="bx by bg bh bi bj bk bl bm bn sp sq bq br sr ss" rel="noopener"><h4 class="st su sv cd hk ce nz sw sx r">Make <!-- -->Medium<!-- --> yours</h4></a></div><span class="cd b ce cf cg ch r sy sz">Follow all the topics you care about, and we’ll deliver the best stories for you to your homepage and inbox.<!-- --> <a href="https://medium.com/topics?source=post_page-----56a2d7c4e931----------------------" class="bx by bg bh bi bj bk bl bm bn bq br sr ss ta" rel="noopener">Explore</a></span></div><div class="sm r sn"><div class="so r"><a class="bx by bg bh bi bj bk bl bm bn sp sq bq br sr ss" rel="noopener" href="https://medium.com/membership?source=post_page-----56a2d7c4e931----------------------"><h4 class="st su sv cd hk ce nz sw sx r">Become a member</h4></a></div><span class="cd b ce cf cg ch r sy sz">Get unlimited access to the best stories on <!-- -->Medium<!-- --> — and support writers while you’re at it. Just $5/month.<!-- --> <a class="bx by bg bh bi bj bk bl bm bn bq br sr ss ta" rel="noopener" href="https://medium.com/membership?source=post_page-----56a2d7c4e931----------------------">Upgrade</a></span></div></div></div><div class="n km"><div class="n o eo"><a class="bx by bg bh bi bj bk bl bm bn sp sq bq br sr ss" rel="noopener" href="https://medium.com/?source=post_page-----56a2d7c4e931----------------------"><svg height="22" width="112" viewBox="0 0 111.5 22" class="su"><path d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z"></path></svg></a><span class="cd b ce cf cg ch r sy sz"><div class="tb tc n eo td al"><h4 class="cd dw ny nz st"><a class="bx by bg bh bi bj bk bl bm bn fb bq br sr ss" rel="noopener" href="https://medium.com/about?autoplay=1&amp;source=post_page-----56a2d7c4e931----------------------">About</a></h4><h4 class="cd dw ny nz st"><a href="https://help.medium.com/?source=post_page-----56a2d7c4e931----------------------" class="bx by bg bh bi bj bk bl bm bn fb bq br sr ss" rel="noopener">Help</a></h4><h4 class="cd dw ny nz st"><a class="bx by bg bh bi bj bk bl bm bn fb bq br sr ss" rel="noopener" href="https://medium.com/policy/9db0094a1e0f?source=post_page-----56a2d7c4e931----------------------">Legal</a></h4></div></span></div><div class="ba te tf al"><h4 class="cd dw ny nz sy">Get the Medium app</h4></div><div class="ba te tg al th"><div class="ti r"><a href="https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&amp;mt=8&amp;ct=post_page&amp;source=post_page-----56a2d7c4e931----------------------" class="bx by bg bh bi bj bk bl bm bn sp sq bq br sr ss" rel="noopener nofollow"><img alt="A button that says &#39;Download on the App Store&#39;, and if clicked it will lead you to the iOS App store" class="" src="./The Treachery of Leakage - Colin Fraser - Medium_files/1_M2FVPPidy2x386MRAE-EeA.png" width="135" height="41"></a></div><div class="r"><a href="https://play.google.com/store/apps/details?id=com.medium.reader&amp;source=post_page-----56a2d7c4e931----------------------" class="bx by bg bh bi bj bk bl bm bn sp sq bq br sr ss" rel="noopener nofollow"><img alt="A button that says &#39;Get it on, Google Play&#39;, and if clicked it will lead you to the Google Play store" class="" src="./The Treachery of Leakage - Colin Fraser - Medium_files/1_HyH8oIcJvXp7xzu5oF6dTg.png" width="135" height="41"></a></div></div></div></section></div></div></div><script>window.__BUILD_ID__ = "master-20200518-224957-6b0d301fb8"</script><script>window.__GRAPHQL_URI__ = "https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"config":{"nodeEnv":"production","version":"master-20200518-224957-6b0d301fb8","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"collector-medium.lightstep.com","token":"ce5be895bef60919541332990ac9fef2","appVersion":"master-20200518-224957-6b0d301fb8"},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","datadog":{"clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","context":{"deployment":{"target":"production","tag":"master-20200518-224957-6b0d301fb8","commit":"6b0d301fb8e63e9ac5d88d1d97e0f2408823952c"}},"datacenter":"us"},"sentry":{"dsn":"https:\u002F\u002F589e367c28ca47b195ce200d1507d18b@sentry.io\u002F1423575","environment":"production"},"isAmp":false,"googleAnalyticsCode":"UA-24232453-2","signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumOwnedAndOperatedCollectionIds":["544c7006046e","bcc38c8f6edf","444d13b52878","8d6b8a439e32","92d2092dc598","1285ba81cada","cb8577c9149e","8ccfed20cbb2","ae2a65f35510","3f6ecf56618","7b6769f2748b","fc8964313712","ef8e90590e66","191186aaafa0","d944778ce714","bdc4052bbdba","88d9857e584e"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"internalLinksPostIds":["0","1","2","3","4","5","6","7"],"webpMiroImageIds":["1*y7gegIZOYlsnhWFJwIyDJw","1*ByGRQD1zlYXGS4YBYAoLVA","1*orNowUCqCER-BwaAXOZx0A","1*itOsotYFripvvRKY1itrVQ","1*b_LB1ifqWQ2x3JG_m3MJsg","1*AD7jcqVRun0Hhwmg0-Vqfg","1*0kJoJveqoxkYXEmdM2FZ3A","1*pTq8R2lALVUytg_k4y5CpQ","1*1_tSnwIHb_oPsU9vucJijQ","1*EBN0PWXjvaF2gRdk9fCvzA","1*Uxc2_wlnoVQNMQUhQaLVZg","1*ABOw4ARUQ90kwKfXqeVdXA","1*Ok2A1h7LmAtYjWVG9c8IMA","1*Kw1AUMFyy3AGJ1BbTdeyWg","1*2RZldaiJQXadc5zjscYncg","1*hPIJUpxe2QMvOMNcTlnOlQ","1*MZyvxFpPUvfBUfoNvFhRzg","1*2ROzqt2hXcYs6BuKjG2_nQ","1*NO9eMccT-vPrY8nylJ4PVw","2*6cf2Ep3P-r1vCrc-6Bc-vA","1*hVxgUA6kP-PgL5TJjuyePg","1*VGtACZSU6AxT3ugiNr-WGg","0*8dBf1Vy9mkDdcuwQ","1*5ciI2lDFX8sJanIJa6ppnA","1*Hqtfw2Juvf6Zb9uGimLLMg","1*suPSqLiNrJPCUbtdUwLnGw","1*dIANAeHtMxPlVO9awEN0Jw","1*N2KcM3GCLymsKxnSBXyG_g","1*fgNVzsUlPl9tA8ladAT-KA","1*h-La0GVOrPo6SrFpNWQLtw","1*3IPJZVYg-95RkV8H4DRjvA","1*DgnF3PmTVG14Oz_-8BWX_g","1*x_SKDZtUCcWMH9FB092srw","1*oQ4U4pCo7OUPMXXphwqzTg","1*fjC3jxxcmOwXLwqxraNHfw","1*DXy0NEVftDaLKDVG8dS3YQ","1*KbxEajPgdT9GhcWWGG8JmQ","1*e6oTrX0jQU0lPM_0Tt-oYw","1*oQ4U4pCo7OUPMXXphwqzTg","1*5I_5X9Of8dwLfLEwJWd9jA","1*wYUZRoGUFOj1kdT7R8S0TQ","1*dzn6a448FO7kqbXk2K1qiA","1*YQDEXca6FZq-9L5WXBH-3A","1*YlpXJYsNOORiPqY0Rx6zIQ","1*NM3ybm1NGbyvF_IGL5DPYQ","1*DJ36tR2MtLrCRA1BO62L8Q","1*wV6yqGmy-aGNGWt1paWy5g","0*iWmcqANWK8Ayo6NP","0*nB8YhFfPe8q0sJcJ","0*GN_xV2uMHSeGuotv","0*oT1BmxuFNEyN0XC4","0*Aow5I0AXoM8HG4RA","0*geqIA7abXJGEobLr"],"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"1*OMF3fSqH8t4xBJ9-6oZDZw.png","height":106,"width":545},"postLogo":{"imageId":"1*3sela1OADrJr7dJk_CXaEQ.png","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"performanceTags":["post_internal_links"],"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":["pandemic","epidemic","coronavirus","covid19","co-vid-19","containment","self-care","flatten-the-curve","public-health","virus","public-health-crisis","quarantine","self-quarantine","zika","corona","disease-prevention","wuhan","chinavirus","outbreak","influenza","socialdistancing","social-distance","flu","vaccines","healthcare","medicine","conspiracy-theories","conspiracy","virality","epidemia","pandemia","salud","corona-e-virus","coronavirus-covid19","covid-19","covid-19-symptoms","covid-19-crisis","covid-19-testing","covid-19-treatment","coronavirus-update","coronavirus-diaries"],"COVID_APPLICABLE_TOPIC_NAMES":["coronavirus"],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":["coronavirus","health"],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4"},"debug":{"requestId":"c97261fa-963f-4daf-a2c5-fbbe97d64ed1","edge":"","originalSpanCarrier":{"ot-tracer-spanid":"49370e68092d36b6","ot-tracer-traceid":"6809f36849cce6db","ot-tracer-sampled":"true"}},"session":{"user":{"id":"lo_eK97YfLUzdtn"},"xsrf":"","isSpoofed":false},"stats":{"itemCount":0,"sending":false,"timeout":null,"backup":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedGoogleOneTap":null,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Fmedium.com\u002F@colin.fraser\u002Fthe-treachery-of-leakage-56a2d7c4e931","host":"medium.com","hostname":"medium.com","referrer":"https:\u002F\u002Fwww.coursera.org\u002Flearn\u002Fpython-machine-learning\u002Fsupplement\u002Fd1qsQ\u002Fthe-treachery-of-leakage-optional","susiModal":{"step":null,"operation":"register"},"postRead":false},"client":{"isBot":false,"isCustomDomain":false,"isEu":false,"isNativeMedium":false,"isSafariMobile":false,"inAppBrowserName":"","supportsWebp":true},"multiVote":{"clapsPerPost":{}},"tracing":{}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"viewer":null,"variantFlags":[{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.0","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.1","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.2","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.3","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.4","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.5","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.6","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.7","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.8","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.9","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.10","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.11","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.12","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.13","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.14","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.15","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.16","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.17","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.18","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.19","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.20","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.21","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.22","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.23","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.24","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.25","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.26","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.27","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.28","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.29","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.30","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.31","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.32","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.33","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.34","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.35","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.36","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.37","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.38","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.39","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.40","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.41","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.42","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.43","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.44","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.45","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.46","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.47","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.48","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.49","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.50","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.51","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.52","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.53","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.54","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.55","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.56","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.57","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.58","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.59","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.60","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.61","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.62","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.63","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.64","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.65","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.66","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.67","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.68","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.69","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.70","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.71","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.72","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.73","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.74","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.75","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.76","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.77","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.78","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.79","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.80","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.81","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.82","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.83","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.84","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.85","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.86","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.87","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.88","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.89","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.90","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.91","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.92","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.93","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.94","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.95","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.96","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.97","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.98","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.99","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.100","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.101","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.102","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.103","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.104","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.105","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.106","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.107","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.108","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.109","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.110","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.111","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.112","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.113","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.114","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.115","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.116","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.117","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.118","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.119","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.120","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.121","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.122","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.123","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.124","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.125","typename":"VariantFlag"}],"meterPost({\"postId\":\"56a2d7c4e931\",\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.coursera.org\u002Flearn\u002Fpython-machine-learning\u002Fsupplement\u002Fd1qsQ\u002Fthe-treachery-of-leakage-optional\"}})":{"type":"id","generated":false,"id":"MeteringInfo:singleton","typename":"MeteringInfo"},"postResult({\"id\":\"56a2d7c4e931\"})":{"type":"id","generated":false,"id":"Post:56a2d7c4e931","typename":"Post"}},"ROOT_QUERY.variantFlags.0":{"name":"add_friction_to_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.0.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.0.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.1":{"name":"allow_access","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.1.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.1.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.2":{"name":"allow_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.2.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.2.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.3":{"name":"allow_test_auth","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.3.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.3.valueType":{"__typename":"VariantFlagString","value":"disallow"},"ROOT_QUERY.variantFlags.4":{"name":"assign_default_topic_to_posts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.4.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.4.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.5":{"name":"available_annual_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.5.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.5.valueType":{"__typename":"VariantFlagString","value":"2c754bcc2995"},"ROOT_QUERY.variantFlags.6":{"name":"available_monthly_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.6.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.6.valueType":{"__typename":"VariantFlagString","value":"60e220181034"},"ROOT_QUERY.variantFlags.7":{"name":"bane_add_user","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.7.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.7.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.8":{"name":"branch_seo_metadata","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.8.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.8.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.9":{"name":"browsable_stream_config_bucket","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.9.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.9.valueType":{"__typename":"VariantFlagString","value":"curated-topics"},"ROOT_QUERY.variantFlags.10":{"name":"coronavirus_topic_recirc","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.10.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.10.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.11":{"name":"covid_19_cdc_banner","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.11.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.11.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.12":{"name":"disable_android_subscription_activity_carousel","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.12.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.12.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.13":{"name":"disable_gosocial_followers_that_you_follow","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.13.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.13.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.14":{"name":"disable_ios_resume_reading_toast","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.14.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.14.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.15":{"name":"disable_ios_subscription_activity_carousel","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.15.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.15.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.16":{"name":"disable_mobile_featured_chunk","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.16.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.16.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.17":{"name":"disable_post_recommended_from_friends_provider","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.17.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.17.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.18":{"name":"enable_android_local_currency","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.18.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.18.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.19":{"name":"enable_annual_renewal_reminder_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.19.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.19.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.20":{"name":"enable_app_flirty_thirty","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.20.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.20.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.21":{"name":"enable_apple_sign_in","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.21.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.21.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.22":{"name":"enable_automated_mission_control_triggers","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.22.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.22.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.23":{"name":"enable_branch_io","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.23.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.23.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.24":{"name":"enable_branding","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.24.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.24.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.25":{"name":"enable_branding_fonts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.25.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.25.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.26":{"name":"enable_cleansweep_cachev2_reads","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.26.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.26.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.27":{"name":"enable_cleansweep_double_writes","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.27.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.27.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.28":{"name":"enable_confirm_sign_in","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.28.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.28.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.29":{"name":"enable_curation_priority_queue_experiment","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.29.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.29.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.30":{"name":"enable_dedicated_series_tab_api_ios","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.30.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.30.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.31":{"name":"enable_different_grid","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.31.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.31.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.32":{"name":"enable_digest_feature_logging","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.32.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.32.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.33":{"name":"enable_digest_tagline","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.33.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.33.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.34":{"name":"enable_disregard_trunc_state_for_footer","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.34.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.34.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.35":{"name":"enable_edit_alt_text","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.35.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.35.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.36":{"name":"enable_email_sign_in_captcha","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.36.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.36.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.37":{"name":"enable_embedding_based_diversification","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.37.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.37.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.38":{"name":"enable_ev_mission_email_v3","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.38.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.38.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.39":{"name":"enable_ev_mission_trial_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.39.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.39.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.40":{"name":"enable_expanded_feature_chunk_pool","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.40.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.40.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.41":{"name":"enable_filter_by_resend_rules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.41.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.41.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.42":{"name":"enable_filter_expire_processor","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.42.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.42.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.43":{"name":"enable_first_name_on_paywall","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.43.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.43.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.44":{"name":"enable_footer_app_buttons","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.44.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.44.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.45":{"name":"enable_free_corona_topic","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.45.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.45.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.46":{"name":"enable_global_susi_modal","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.46.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.46.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.47":{"name":"enable_google_one_tap","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.47.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.47.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.48":{"name":"enable_highlander_member_digest","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.48.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.48.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.49":{"name":"enable_ios_post_stats","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.49.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.49.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.50":{"name":"enable_janky_spam_rules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.50.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.50.valueType":{"__typename":"VariantFlagString","value":"users,posts"},"ROOT_QUERY.variantFlags.51":{"name":"enable_json_logs_trained_ranker","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.51.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.51.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.52":{"name":"enable_kafka_events","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.52.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.52.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.53":{"name":"enable_kbfd_rex","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.53.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.53.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.54":{"name":"enable_kbfd_rex_app_highlights","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.54.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.54.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.55":{"name":"enable_kbfd_rex_daily_digest","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.55.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.55.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.56":{"name":"enable_li_open_in_app","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.56.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.56.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.57":{"name":"enable_lite_about_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.57.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.57.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.58":{"name":"enable_lite_notifications","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.58.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.58.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.59":{"name":"enable_lite_post","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.59.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.59.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.60":{"name":"enable_lite_post_cd","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.60.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.60.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.61":{"name":"enable_lite_post_highlights","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.61.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.61.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.62":{"name":"enable_lite_post_highlights_view_only","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.62.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.62.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.63":{"name":"enable_lite_profile","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.63.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.63.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.64":{"name":"enable_lite_pub_header_menu","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.64.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.64.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.65":{"name":"enable_lite_server_upstream_deadlines","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.65.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.65.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.66":{"name":"enable_lite_stories","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.66.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.66.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.67":{"name":"enable_lite_topics","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.67.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.67.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.68":{"name":"enable_lite_unread_notification_count_mutation","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.68.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.68.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.69":{"name":"enable_lo_homepage","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.69.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.69.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.70":{"name":"enable_lo_open_in_app","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.70.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.70.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.71":{"name":"enable_login_code_flow","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.71.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.71.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.72":{"name":"enable_marketing_emails","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.72.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.72.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.73":{"name":"enable_media_resource_try_catch","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.73.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.73.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.74":{"name":"enable_membership_remove_section_a","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.74.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.74.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.75":{"name":"enable_meter_payment_link","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.75.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.75.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.76":{"name":"enable_miro_on_kubernetes","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.76.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.76.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.77":{"name":"enable_ml_rank_modules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.77.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.77.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.78":{"name":"enable_more_on_coronavirus","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.78.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.78.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.79":{"name":"enable_mute","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.79.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.79.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.80":{"name":"enable_new_collaborative_filtering_data","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.80.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.80.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.81":{"name":"enable_new_suspended_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.81.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.81.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.82":{"name":"enable_new_three_dot_menu","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.82.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.82.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.83":{"name":"enable_optimizely","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.83.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.83.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.84":{"name":"enable_parsely","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.84.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.84.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.85":{"name":"enable_patronus_on_kubernetes","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.85.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.85.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.86":{"name":"enable_popularity_feature","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.86.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.86.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.87":{"name":"enable_post_import","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.87.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.87.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.88":{"name":"enable_post_page_nav_stickiness_removal","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.88.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.88.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.89":{"name":"enable_post_seo_settings_screen","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.89.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.89.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.90":{"name":"enable_post_settings_screen","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.90.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.90.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.91":{"name":"enable_primary_topic_for_mobile","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.91.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.91.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.92":{"name":"enable_rito_upstream_deadlines","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.92.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.92.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.93":{"name":"enable_rtr_channel","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.93.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.93.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.94":{"name":"enable_save_to_medium","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.94.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.94.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.95":{"name":"enable_sepia_to_olsen","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.95.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.95.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.96":{"name":"enable_starspace","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.96.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.96.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.97":{"name":"enable_starspace_digest_app","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.97.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.97.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.98":{"name":"enable_starspace_ranker_starspace","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.98.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.98.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.99":{"name":"enable_tick_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.99.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.99.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.100":{"name":"enable_tipalti_onboarding","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.100.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.100.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.101":{"name":"enable_topic_lifecycle_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.101.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.101.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.102":{"name":"enable_tribute_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.102.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.102.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.103":{"name":"enable_trumpland_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.103.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.103.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.104":{"name":"enable_utc_fix_on_partner_program_dashboard","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.104.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.104.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.105":{"name":"exclude_curated_in_popular_topic","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.105.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.105.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.106":{"name":"featured_fc_and_ydr","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.106.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.106.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.107":{"name":"filter_low_scoring_users","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.107.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.107.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.108":{"name":"glyph_embed_commands","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.108.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.108.valueType":{"__typename":"VariantFlagString","value":"control"},"ROOT_QUERY.variantFlags.109":{"name":"glyph_font_set","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.109.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.109.valueType":{"__typename":"VariantFlagString","value":"m2"},"ROOT_QUERY.variantFlags.110":{"name":"google_sign_in_android","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.110.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.110.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.111":{"name":"is_not_medium_subscriber","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.111.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.111.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.112":{"name":"limit_post_referrers","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.112.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.112.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.113":{"name":"make_nav_sticky","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.113.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.113.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.114":{"name":"new_transition_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.114.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.114.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.115":{"name":"pub_sidebar","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.115.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.115.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.116":{"name":"rank_model","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.116.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.116.valueType":{"__typename":"VariantFlagString","value":"default"},"ROOT_QUERY.variantFlags.117":{"name":"remove_post_post_similarity","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.117.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.117.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.118":{"name":"share_post_linkedin","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.118.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.118.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.119":{"name":"sign_up_with_email_button","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.119.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.119.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.120":{"name":"signin_services","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.120.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.120.valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"},"ROOT_QUERY.variantFlags.121":{"name":"signup_services","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.121.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.121.valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"},"ROOT_QUERY.variantFlags.122":{"name":"skip_sign_in_recaptcha","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.122.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.122.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.123":{"name":"topic_post_candidates_from_fs","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.123.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.123.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.124":{"name":"use_new_admin_topic_backend","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.124.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.124.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.125":{"name":"xgboost_auto_suspend","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.125.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.125.valueType":{"__typename":"VariantFlagBoolean","value":true},"MeteringInfo:singleton":{"__typename":"MeteringInfo","postIds":{"type":"json","json":[]},"maxUnlockCount":3,"unlocksRemaining":3},"Post:56a2d7c4e931":{"__typename":"Post","id":"56a2d7c4e931","mediumUrl":"https:\u002F\u002Fmedium.com\u002F@colin.fraser\u002Fthe-treachery-of-leakage-56a2d7c4e931","canonicalUrl":"","collection":null,"content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.coursera.org\u002Flearn\u002Fpython-machine-learning\u002Fsupplement\u002Fd1qsQ\u002Fthe-treachery-of-leakage-optional\"}})":{"type":"id","generated":true,"id":"$Post:56a2d7c4e931.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.coursera.org\u002Flearn\u002Fpython-machine-learning\u002Fsupplement\u002Fd1qsQ\u002Fthe-treachery-of-leakage-optional\"}})","typename":"PostContent"},"creator":{"type":"id","generated":false,"id":"User:fc45ca870f1b","typename":"User"},"firstPublishedAt":1472071017221,"isLocked":false,"isPublished":true,"layerCake":0,"primaryTopic":null,"title":"The Treachery of Leakage","latestPublishedVersion":"2a860ff51921","visibility":"PUBLIC","isLimitedState":false,"sequence":null,"pendingCollection":null,"shareKey":null,"statusForCollection":null,"readingTime":10.138993710691825,"readingList":"READING_LIST_NONE","allowResponses":true,"clapCount":758,"viewerClapCount":0,"voterCount":148,"recommenders":[],"license":"ALL_RIGHTS_RESERVED","tags":[{"type":"id","generated":false,"id":"Tag:machine-learning","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:data-science","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:predictive-analytics","typename":"Tag"}],"topics":[],"postResponses":{"type":"id","generated":true,"id":"$Post:56a2d7c4e931.postResponses","typename":"PostResponses"},"responsesCount":9,"collaborators":[],"translationSourcePost":null,"internalLinks({\"paging\":{\"limit\":8}})":{"type":"id","generated":true,"id":"$Post:56a2d7c4e931.internalLinks({\"paging\":{\"limit\":8}})","typename":"InternalLinksConnection"},"newsletterId":"","inResponseToPostResult":null,"inResponseToMediaResource":null,"lockedSource":"LOCKED_POST_SOURCE_NONE","curationEligibleAt":0,"isDistributionAlertDismissed":false,"audioVersionUrl":"","socialTitle":"","socialDek":"","metaDescription":"","latestPublishedAt":1472139014716,"previewContent":{"type":"id","generated":true,"id":"$Post:56a2d7c4e931.previewContent","typename":"PreviewContent"},"previewImage":{"type":"id","generated":false,"id":"ImageMetadata:1*1EkjNl2GhNDfWfT-7oJ85g.jpeg","typename":"ImageMetadata"},"isShortform":false,"seoTitle":"","updatedAt":1529572161520,"shortformType":"SHORTFORM_TYPE_LINK","seoDescription":"","isSuspended":false},"$Post:56a2d7c4e931.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.coursera.org\u002Flearn\u002Fpython-machine-learning\u002Fsupplement\u002Fd1qsQ\u002Fthe-treachery-of-leakage-optional\"}})":{"isLockedPreviewOnly":false,"validatedShareKey":"","__typename":"PostContent","bodyModel":{"type":"id","generated":true,"id":"$Post:56a2d7c4e931.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.coursera.org\u002Flearn\u002Fpython-machine-learning\u002Fsupplement\u002Fd1qsQ\u002Fthe-treachery-of-leakage-optional\"}}).bodyModel","typename":"RichText"}},"User:fc45ca870f1b":{"id":"fc45ca870f1b","isSuspended":false,"__typename":"User","allowNotes":true,"name":"Colin Fraser","isFollowing":null,"username":"colin.fraser","bio":"Data Scientist at Facebook","imageId":"1*MtaL4xPr-IvvmU1bPbHlJw.jpeg","mediumMemberAt":0,"isBlocking":null,"isMuting":null,"isPartnerProgramEnrolled":false,"twitterScreenName":"colin_fraser"},"$Post:56a2d7c4e931.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.coursera.org\u002Flearn\u002Fpython-machine-learning\u002Fsupplement\u002Fd1qsQ\u002Fthe-treachery-of-leakage-optional\"}}).bodyModel.sections.0":{"name":"6f63","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:56a2d7c4e931.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.coursera.org\u002Flearn\u002Fpython-machine-learning\u002Fsupplement\u002Fd1qsQ\u002Fthe-treachery-of-leakage-optional\"}}).bodyModel":{"sections":[{"type":"id","generated":true,"id":"$Post:56a2d7c4e931.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.coursera.org\u002Flearn\u002Fpython-machine-learning\u002Fsupplement\u002Fd1qsQ\u002Fthe-treachery-of-leakage-optional\"}}).bodyModel.sections.0","typename":"Section"}],"paragraphs":[{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_0","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_1","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_2","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_3","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_4","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_5","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_6","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_7","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_8","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_9","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_10","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_11","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_12","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_13","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_14","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_15","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_16","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_17","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_18","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_19","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_20","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_21","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_22","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_23","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_24","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_25","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_26","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_27","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_28","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_29","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_30","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_31","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_32","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_33","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_34","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_35","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_36","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_37","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_38","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_39","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_40","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_41","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:2a860ff51921_42","typename":"Paragraph"}],"__typename":"RichText"},"Paragraph:2a860ff51921_0":{"id":"2a860ff51921_0","name":"8cbe","type":"H3","href":null,"layout":null,"metadata":null,"text":"The Treachery of Leakage","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_1":{"id":"2a860ff51921_1","name":"aa51","type":"H4","href":null,"layout":null,"metadata":null,"text":"How to avoid letting a model cheat on you and break your heart","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_2":{"id":"2a860ff51921_2","name":"bfb0","type":"P","href":null,"layout":null,"metadata":null,"text":"There are a lot of ways to screw up when you’re trying to do data science. Some of them are very technical. Leakage is not one of those very technical screw-ups. In fact, you hardly have to know anything about mathematics or statistics or computer science at all to understand the basic premise of leakage. However, it is one of the sneakiest, most sinister, and widespread mistakes a data scientist can make. The Handbook of Statistical Analysis and Data Mining Applications calls leakage one of the top ten data mining mistakes. I might put it at number one.","hasDropCap":true,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:2a860ff51921_2.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:2a860ff51921_2.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_2.markups.0":{"type":"EM","start":108,"end":116,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:2a860ff51921_2.markups.1":{"type":"EM","start":414,"end":476,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:2a860ff51921_3":{"id":"2a860ff51921_3","name":"bf94","type":"P","href":null,"layout":null,"metadata":null,"text":"The most fascinating thing about leakage — in a sort of can’t-take-my-eyes-off-the-car-crash kind of a way — is the betrayal. The broken promises. The heartbreak. Your model performs way better than you expect it to in the test set. It’s almost too good to be true. A part of you knows that no one model should have all that power, and yet, the numbers are right in front of you, showing you that you can predict the stock market with 90% accuracy or perfectly predict what product online customers will buy next. You know that you should think about this but the temptation to simply pat yourself on the back for building the world’s greatest data mining algorithm is too great. Your eyes turn into dollar signs. You’ll be famous. You’re the greatest data scientist of all time. You’re a hero.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_4":{"id":"2a860ff51921_4","name":"0285","type":"P","href":null,"layout":null,"metadata":null,"text":"But when you release your model into the wild, something awful happens. Not only does the model perform worse than it did in your test runs — you thought that might happen — it falls flat on its face. It doesn’t make a single accurate prediction. In fact, in the most insidious cases of leakage, the model actually performs worse than flipping a coin, and you’d have been better off not building it at all. The model that you trained and tested for hours, that made all these promises to you about giant AUCs and tiny RMSEs and whatever other gauntlet of evaluation criteria you threw at it, is spitting in your face. It lied to you. It played you. Why?","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_5":{"id":"2a860ff51921_5","name":"5f88","type":"P","href":null,"layout":null,"metadata":null,"text":"And what’s frustrating is this: the culprit is usually an obvious little mistake that you made right at the very beginning of the project. You can spend five hundred hours building and tuning some fancy algorithm that leverages all of the state-of-the-art machine learning tools that we have available today, and it will all be for nothing if you screw up and allow data leakage into your training data from the start.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_6":{"id":"2a860ff51921_6","name":"b065","type":"H3","href":null,"layout":null,"metadata":null,"text":"When is a data leaky?","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_7":{"id":"2a860ff51921_7","name":"f068","type":"P","href":null,"layout":null,"metadata":null,"text":"Machine learning experts have struggled a little bit to come up with a single formal definition of leakage, and perhaps it is best understood first by example. This is a modified version of an example that is presented in Leakage in Data Mining: Formulation, Detection, and Avoidance, which has many more examples and ideas on this topic if you’re interested. Suppose you’re a data scientist working at some kind of online store, and you’re trying to build a model to predict, based on past purchases, whether a customer is likely to buy jewelry. You gather a massive dataset containing purchase histories for every single customer who has ever shopped at the store, along with their total spend on each of the three product categories that the store sells. Maybe it looks something like this:","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:2a860ff51921_7.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:2a860ff51921_7.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_7.markups.0":{"type":"A","start":222,"end":283,"href":"http:\u002F\u002Fdl.acm.org\u002Fcitation.cfm?id=2020496","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:2a860ff51921_7.markups.1":{"type":"EM","start":222,"end":285,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:2a860ff51921_8":{"id":"2a860ff51921_8","name":"5273","type":"PRE","href":null,"layout":null,"metadata":null,"text":"  CUSTOMER JEWELRY  MOVIES ELECTRONICS\n     11123 1003.23   24.99     1594.95 \n     11124    0.00   96.45        0.00 \n     11125   58.12    0.00        0.00 \n     11126    0.00  549.20      190.67 \n     11127    8.23 2400.10      523.45 \n       ...     ...     ...         ... ","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_9":{"id":"2a860ff51921_9","name":"b0d6","type":"P","href":null,"layout":null,"metadata":null,"text":"Using this dataset, your plan is to build a model which predicts whether a customer buys jewelry as a function of their spending on movies and electronics.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_10":{"id":"2a860ff51921_10","name":"2632","type":"P","href":null,"layout":null,"metadata":null,"text":"You’ve just committed leakage. You’re already hooped. You’ve built a leaky dataset, and any model that you train on this data, no matter how many tens of hours you put into boosting and bagging and deep learning and validating and cross-validating and whatever else you can imagine, is doomed to betray you from the start. In fact, in many cases, the better your model performs in testing, the worse it will in real life. Such is the treachery of leakage.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:2a860ff51921_10.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_10.markups.0":{"type":"EM","start":347,"end":422,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:2a860ff51921_11":{"id":"2a860ff51921_11","name":"f0d6","type":"P","href":null,"layout":null,"metadata":null,"text":"Can you see why? It has to do with customer 11125.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_12":{"id":"2a860ff51921_12","name":"1cd1","type":"P","href":null,"layout":null,"metadata":null,"text":"Customer 11125 has 0 spend on movies and 0 spend on electronics. If the store only sells jewelry, movies, and electronics, then the only way that customer 11125 can possibly be in the dataset is if he bought jewelry. Due to the way that the data was collected and formatted, the condition of having 0 spend on movies and electronics logically implies the condition of having bought jewelry.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:2a860ff51921_12.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_12.markups.0":{"type":"EM","start":333,"end":351,"href":"","anchorType":"LINK","userId":"","linkMetadata":null,"__typename":"Markup"},"Paragraph:2a860ff51921_13":{"id":"2a860ff51921_13","name":"a76d","type":"P","href":null,"layout":null,"metadata":null,"text":"Any half decent model will learn this little tidbit and use it to make perfect predictions about the customers with 0 spend on movies and electronics. And if there are a lot of those customers in the data, then your model will make a whole lot of perfect predictions in testing. And that will look pretty good.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_14":{"id":"2a860ff51921_14","name":"1110","type":"P","href":null,"layout":null,"metadata":null,"text":"But it’s a mirage. Again, the condition of having positive spend on jewelry is logically implied by the condition of having 0 spend on electronics and movies in this dataset. The model correctly identifies that customers who bought jewelry bought jewelry. This is an unhelpful identification.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_15":{"id":"2a860ff51921_15","name":"f72c","type":"P","href":null,"layout":null,"metadata":null,"text":"Information is in some sense leaking from the features — information that the model has no right to see. There’s some kind of giveaway in the data about the outcomes that you’re trying to predict, and the model uses that giveaway to cheat and make better predictions than would be possible in real life. You model has learned something, but the thing that it learned is a quirk of the data and not something about the customers that you’re actually trying to model.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:2a860ff51921_15.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:2a860ff51921_15.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:2a860ff51921_15.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_15.markups.0":{"type":"EM","start":29,"end":36,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:2a860ff51921_15.markups.1":{"type":"EM","start":385,"end":390,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:2a860ff51921_15.markups.2":{"type":"EM","start":418,"end":427,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:2a860ff51921_16":{"id":"2a860ff51921_16","name":"4a4b","type":"H3","href":null,"layout":null,"metadata":null,"text":"Freedom of Information","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_17":{"id":"2a860ff51921_17","name":"11d1","type":"P","href":null,"layout":null,"metadata":null,"text":"What information does your model have the right to see? That can be a tricky question to answer, but it is the key spotting and correcting leakage. Leakage is present when your features contain information that your model should not legitimately be allowed to use. But legitimacy is not always obvious, or even unambiguously defined. For instance, consider the case of a classifier that looks at an image and decides whether it contains a wolf or a dog. You train it on some images like these.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:2a860ff51921_17.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_17.markups.0":{"type":"EM","start":269,"end":280,"href":"","anchorType":"LINK","userId":"","linkMetadata":null,"__typename":"Markup"},"Paragraph:2a860ff51921_18":{"id":"2a860ff51921_18","name":"5c70","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*1EkjNl2GhNDfWfT-7oJ85g.jpeg","typename":"ImageMetadata"},"text":"Wolf","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*1EkjNl2GhNDfWfT-7oJ85g.jpeg":{"id":"1*1EkjNl2GhNDfWfT-7oJ85g.jpeg","originalHeight":426,"originalWidth":640,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:2a860ff51921_19":{"id":"2a860ff51921_19","name":"3c5a","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*4zZCGXCXzvbktdMnge_0Ew.jpeg","typename":"ImageMetadata"},"text":"Dog","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*4zZCGXCXzvbktdMnge_0Ew.jpeg":{"id":"1*4zZCGXCXzvbktdMnge_0Ew.jpeg","originalHeight":480,"originalWidth":640,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:2a860ff51921_20":{"id":"2a860ff51921_20","name":"90a1","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*tOai2YZPqvLLsRqYSq9tpQ.jpeg","typename":"ImageMetadata"},"text":"Wolf","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*tOai2YZPqvLLsRqYSq9tpQ.jpeg":{"id":"1*tOai2YZPqvLLsRqYSq9tpQ.jpeg","originalHeight":424,"originalWidth":640,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:2a860ff51921_21":{"id":"2a860ff51921_21","name":"65be","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*k36FAhOiKU-bDI3IHKm60g.jpeg","typename":"ImageMetadata"},"text":"Dog","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*k36FAhOiKU-bDI3IHKm60g.jpeg":{"id":"1*k36FAhOiKU-bDI3IHKm60g.jpeg","originalHeight":480,"originalWidth":640,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:2a860ff51921_22":{"id":"2a860ff51921_22","name":"5d50","type":"P","href":null,"layout":null,"metadata":null,"text":"Your classifier seems to do quite well, identifying most wolves and most dogs in your test set. However, on further investigation (perhaps with a little help from the LIME technique described in the paper that I stole this example from), you determine that your model has simply decided that a “wolf” is a thing on a white background and a “dog” is a thing on a green background. The correct prediction is fully specified by the background color of the image. Is this leakage?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:2a860ff51921_22.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_22.markups.0":{"type":"A","start":195,"end":235,"href":"http:\u002F\u002Farxiv.org\u002Fabs\u002F1602.04938","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:2a860ff51921_23":{"id":"2a860ff51921_23","name":"29d4","type":"P","href":null,"layout":null,"metadata":null,"text":"That’s a little bit of a hard question. It is undoubtedly true that the color of the background of an image can help to predict the foreground, and humans performing this same classification task probably use the background as a feature in their own assessments. The background is a legitimate feature that rational observer would use to determine the content of an image.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_24":{"id":"2a860ff51921_24","name":"8589","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*HRA30XSurRlR_4dKsc51Qg.jpeg","typename":"ImageMetadata"},"text":"Not a wolf","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*HRA30XSurRlR_4dKsc51Qg.jpeg":{"id":"1*HRA30XSurRlR_4dKsc51Qg.jpeg","originalHeight":425,"originalWidth":640,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:2a860ff51921_25":{"id":"2a860ff51921_25","name":"8ea1","type":"P","href":null,"layout":null,"metadata":null,"text":"The answer to whether this is a leakage problem or not depends on how you expect your model to generalize. If you expect that the images that your model will be looking at have the property that all of the wolf images will have white backgrounds and all of the dog images won’t, then run with the one you’ve got. It works just fine. On the other hand, if you expect your model to know that a Chihuahua on a blanket is not a wolf, then you do have a leakage problem at the data collection stage. Some quirk about your data collection process gave the background of the image too much predictive power, and your model is using this quirk of the data to cheat on its predictions.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_26":{"id":"2a860ff51921_26","name":"a310","type":"H3","href":null,"layout":null,"metadata":null,"text":"There’s no such thing as a time machine","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_27":{"id":"2a860ff51921_27","name":"6247","type":"P","href":null,"layout":null,"metadata":null,"text":"The accidental introduction of time-travel into the data is probably the most common source of leakage in machine learning. Due to the way that data is often stored and aggregated, data that are generated at different times may be stored in the same place. A general rule might be: if X happened after Y, you shouldn’t build a model that uses X to predict Y. Claudia Perlich calls this the No Time Machine Condition (NTMC). A model that determines whether it rains at 9:00 AM as a function of whether the road is wet at 9:05 AM might be very accurate, but it will also be very useless.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:2a860ff51921_27.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_27.markups.0":{"type":"EM","start":390,"end":416,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:2a860ff51921_28":{"id":"2a860ff51921_28","name":"9c3f","type":"P","href":null,"layout":null,"metadata":null,"text":"Violations of NTMC are usually harder to spot than using the wet road to predict rain. Imagine you’re a data scientist at some kind of SaaS company and you’re trying to build a model to predict customer churn (that is, to predict which customers will cancel their subscriptions). I have helpfully assembled a dataset for you, with an indicator variable marking whether each customer cancelled their subscription in 2015, along with some aggregated statistics for each customer for the year.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_29":{"id":"2a860ff51921_29","name":"f1e1","type":"PRE","href":null,"layout":null,"metadata":null,"text":"CUSTOMER HELP_DESK_CALLS_2015 DOWNTIME_MINS_2015 CHURNED ...\n   45220                    4               1293   FALSE ...\n   45221                    0                  0    TRUE ...\n   45222                    1                 43    TRUE ...\n   45223                    4               1001   FALSE ...\n   45224                    3               6298   FALSE ...\n     ...                  ...                ...     ... ...","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_30":{"id":"2a860ff51921_30","name":"0a04","type":"P","href":null,"layout":null,"metadata":null,"text":"CUSTOMER is the customer number, HELP_DESK_CALLS_2015 is the total number of times that the customer called into the help desk in 2015, DOWNTIME_MINS_2015 is the total number of minutes that the customer spent with their product not working properly in 2015, and CHURNED has a value of TRUE if and only if that customer churned at some point in 2015.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_31":{"id":"2a860ff51921_31","name":"c2af","type":"P","href":null,"layout":null,"metadata":null,"text":"Can you spot the leakage?","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_32":{"id":"2a860ff51921_32","name":"bd6b","type":"P","href":null,"layout":null,"metadata":null,"text":"We have violated NTMC. The variable CHURNED indicates whether a customer cancels their account at any point in the year. Our features, HELP_DESK_CALLS_2015 and DOWNTIME_MINS_2015 are yearly totals which are, by definition, only available at the end of the year. There’s no way that we could possibly know the values of these variables before the churn event takes place, so our model has no business using them to predict churn. There is no such thing as a time machine.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_33":{"id":"2a860ff51921_33","name":"e456","type":"P","href":null,"layout":null,"metadata":null,"text":"“Well,” I might reply, with a crazed look in my eye that says don’t make me redo this data collection, “at least we have a model. Maybe there’s some kind of leakage problem with some of the variables, but it’s better than nothing.”","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:2a860ff51921_33.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_33.markups.0":{"type":"EM","start":62,"end":101,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:2a860ff51921_34":{"id":"2a860ff51921_34","name":"8296","type":"P","href":null,"layout":null,"metadata":null,"text":"Is it?","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_35":{"id":"2a860ff51921_35","name":"49ca","type":"P","href":null,"layout":null,"metadata":null,"text":"Consider the relationship between DOWNTIME_MINS_2015 and CHURNED in the data. DOWNTIME_MINS_2015 is the aggregate total number of minutes that the product was down for the customer in 2015. Consider a customer who churns on January 1, 2015. Her DOWNTIME_MINS_2015 is probably quite low — maybe 0. After all, she’s not even a customer for a single whole day in 2015, so she doesn’t have a very long time to accumulate downtime minutes. If there are many customers like this who cancel early in the year, then the data might contain many examples of churners with small numbers for DOWNTIME_MINS_2015. The model can exploit this pattern in the data to identify customers with low downtime minutes as churners.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_36":{"id":"2a860ff51921_36","name":"dd35","type":"P","href":null,"layout":null,"metadata":null,"text":"But this seems like it’s probably the exact opposite of reality! The data collection process results in a negative relationship between the variables DOWNTIME_MINS_2015 and CHURNED, but the real-life process that relates real-life customer churn to real-life downtime minutes could very well have a positive relationship between those two variables! This results in the perverse outcome where the more likely your model says a customer is to churn, the less likely they really are to churn! Your “predictive model” is not only making inaccurate predictions, it is making predictions which are systematically wrong. You’re anti-predicting! Your churn prediction model predicts non-churn! Data leakage has created a model which truly is worse than having no model at all, all the while performing outstandingly well in backtesting.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:2a860ff51921_36.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:2a860ff51921_36.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_36.markups.0":{"type":"STRONG","start":392,"end":489,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:2a860ff51921_36.markups.1":{"type":"EM","start":299,"end":308,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:2a860ff51921_37":{"id":"2a860ff51921_37","name":"9785","type":"P","href":null,"layout":null,"metadata":null,"text":"Such is the treachery of leakage.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_38":{"id":"2a860ff51921_38","name":"ea22","type":"H3","href":null,"layout":null,"metadata":null,"text":"What can you do?","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_39":{"id":"2a860ff51921_39","name":"5bb1","type":"P","href":null,"layout":null,"metadata":null,"text":"I’m going to go out on a limb and claim that most sources of leakage are violations of NTMC, and modelers should be vigilant in ensuring that they are not accidentally introducing time travel into their models. Predictive modelling is usually (but not always) about using today’s data to predict what will happen tomorrow, but since training data is almost always collected after the fact, it is very easy to overlook the temporal sequence of the events that generate the data. This oversight can be huge.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_40":{"id":"2a860ff51921_40","name":"48ab","type":"P","href":null,"layout":null,"metadata":null,"text":"In NTMC cases, the fix is straightforward, at least in principle: somehow or another, your dataset needs a time dimension. In the example of the online store, if the dataset had been split into two time periods, where purchases (including jewelry) in time period 1 are used to predict whether a customer purchases jewelry in time period 2, the leakage problem disappears. Moreover, it’s usually the case that the more time information you can provide, the better. If the dataset in the churn prediction model could be rearranged into a panel format, where we have multiple observations across time for each customer, not only could the leakage issue be resolved, but a much wider array of potential features and models could be considered.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:2a860ff51921_40.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_40.markups.0":{"type":"A","start":536,"end":548,"href":"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FPanel_data","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:2a860ff51921_41":{"id":"2a860ff51921_41","name":"148f","type":"P","href":null,"layout":null,"metadata":null,"text":"The single most important thing that you can do to prevent data leakage from seeping into your models is to understand the process that generates the data, and how that process relates to the process that you’re actually trying to simulate in order to form predictions. The whole point of modelling is to learn things about some process out there in the real world, and in some sense to approximate that real-world process. But models don’t see the real-world process. They see the data. Leakage happens when there is some systematic correlation between features and outcomes in the data that either does not exist or is not observable in the real world. In order to spot that deceptive correlation, it is crucial to understand the data that you are working with. How is it collected? How is it aggregated? What are the criteria for being included in this sample?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:2a860ff51921_41.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:2a860ff51921_41.markups.0":{"type":"EM","start":576,"end":588,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:2a860ff51921_42":{"id":"2a860ff51921_42","name":"1782","type":"P","href":null,"layout":null,"metadata":null,"text":"This level of understanding is not always easy to obtain in many modern data science contexts, where data is collected from disparate sources, possibly with the involvement of multiple people or teams, many of whom won’t have the answers. But when a deep understanding of the data generation process is achieved, it usually makes leakage problems almost obvious, and the fix becomes apparent.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Tag:machine-learning":{"id":"machine-learning","displayTitle":"Machine Learning","__typename":"Tag"},"Tag:data-science":{"id":"data-science","displayTitle":"Data Science","__typename":"Tag"},"Tag:predictive-analytics":{"id":"predictive-analytics","displayTitle":"Predictive Analytics","__typename":"Tag"},"$Post:56a2d7c4e931.postResponses":{"count":9,"__typename":"PostResponses","responsesConnection({\"paging\":{\"limit\":10}})":{"type":"id","generated":true,"id":"$Post:56a2d7c4e931.postResponses.responsesConnection({\"paging\":{\"limit\":10}})","typename":"StreamConnection"}},"Post:e7e2dc8fde80":{"__typename":"Post","id":"e7e2dc8fde80","title":"Exploring Univariate Data","mediumUrl":"https:\u002F\u002Ftowardsdatascience.com\u002Fexploring-univariate-data-e7e2dc8fde80","previewImage":{"type":"id","generated":false,"id":"ImageMetadata:1*mDODtjvu1psr-_wHigtI_w.jpeg","typename":"ImageMetadata"},"isPublished":true,"firstPublishedAt":1552426113123,"readingTime":3.6283018867924524,"statusForCollection":"APPROVED","isLocked":true,"visibility":"LOCKED","collection":{"type":"id","generated":false,"id":"Collection:7f60cf5620c9","typename":"Collection"},"creator":{"type":"id","generated":false,"id":"User:2a7b274f3032","typename":"User"},"previewContent":{"type":"id","generated":true,"id":"$Post:e7e2dc8fde80.previewContent","typename":"PreviewContent"}},"ImageMetadata:1*mDODtjvu1psr-_wHigtI_w.jpeg":{"id":"1*mDODtjvu1psr-_wHigtI_w.jpeg","originalHeight":2979,"originalWidth":4469,"focusPercentX":null,"focusPercentY":null,"__typename":"ImageMetadata"},"Collection:7f60cf5620c9":{"name":"Towards Data Science","id":"7f60cf5620c9","slug":"towards-data-science","domain":"towardsdatascience.com","__typename":"Collection"},"User:2a7b274f3032":{"name":"Tara Boyle","username":"terrah27","id":"2a7b274f3032","bio":"I’m passionate about all things data! I’m interested in applying machine learning to create business solutions.","isFollowing":null,"imageId":"1*8DulKHvdIfy_xwznbqevdQ.jpeg","mediumMemberAt":1550636916239,"__typename":"User"},"$Post:e7e2dc8fde80.previewContent":{"isFullContent":false,"__typename":"PreviewContent"},"Post:8693e1c24e80":{"__typename":"Post","id":"8693e1c24e80","title":"Feature Transformation for Machine Learning, a Beginners Guide","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fvickdata\u002Ffour-feature-types-and-how-to-transform-them-for-machine-learning-8693e1c24e80","previewImage":{"type":"id","generated":false,"id":"ImageMetadata:1*Yc805VYvdznpmo2hzg4YLg.png","typename":"ImageMetadata"},"isPublished":true,"firstPublishedAt":1536308173456,"readingTime":6.6745283018867925,"statusForCollection":"APPROVED","isLocked":false,"visibility":"PUBLIC","collection":{"type":"id","generated":false,"id":"Collection:a4d081aa8b34","typename":"Collection"},"creator":{"type":"id","generated":false,"id":"User:8b7aca3e5b1c","typename":"User"},"previewContent":{"type":"id","generated":true,"id":"$Post:8693e1c24e80.previewContent","typename":"PreviewContent"}},"ImageMetadata:1*Yc805VYvdznpmo2hzg4YLg.png":{"id":"1*Yc805VYvdznpmo2hzg4YLg.png","originalHeight":898,"originalWidth":1674,"focusPercentX":null,"focusPercentY":null,"__typename":"ImageMetadata"},"Collection:a4d081aa8b34":{"name":"vickdata","id":"a4d081aa8b34","slug":"vickdata","domain":null,"__typename":"Collection"},"User:8b7aca3e5b1c":{"name":"Rebecca Vickery","username":"rebecca.vickery","id":"8b7aca3e5b1c","bio":"Data Scientist, Holiday Extras | Writer, Speaker, Founder DatAcademy | https:\u002F\u002Ftwitter.com\u002Fvickdata | https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Frebecca-vickery-20b94133\u002F","isFollowing":null,"imageId":"1*rhvwW5suGypWKG_iJqFWcA.jpeg","mediumMemberAt":1557749269000,"__typename":"User"},"$Post:8693e1c24e80.previewContent":{"isFullContent":false,"__typename":"PreviewContent"},"Post:19781b28ffe2":{"__typename":"Post","id":"19781b28ffe2","title":"How to Visualize a Decision Tree In 3 Steps with Python (2020)","mediumUrl":"https:\u002F\u002Ftowardsdatascience.com\u002Fhow-to-visualize-a-decision-tree-in-5-steps-19781b28ffe2","previewImage":{"type":"id","generated":false,"id":"ImageMetadata:0*dM1rEgCDoOYEjOJH","typename":"ImageMetadata"},"isPublished":true,"firstPublishedAt":1576556867204,"readingTime":1.9757861635220126,"statusForCollection":"APPROVED","isLocked":true,"visibility":"LOCKED","collection":{"type":"id","generated":false,"id":"Collection:7f60cf5620c9","typename":"Collection"},"creator":{"type":"id","generated":false,"id":"User:75e7a2716ce","typename":"User"},"previewContent":{"type":"id","generated":true,"id":"$Post:19781b28ffe2.previewContent","typename":"PreviewContent"}},"ImageMetadata:0*dM1rEgCDoOYEjOJH":{"id":"0*dM1rEgCDoOYEjOJH","originalHeight":3456,"originalWidth":5184,"focusPercentX":null,"focusPercentY":null,"__typename":"ImageMetadata"},"User:75e7a2716ce":{"name":"Lianne & Justin @ Just into Data","username":"justintodata","id":"75e7a2716ce","bio":"We make Data Science SIMPLER for You! Enjoy articles on topics such as Machine Learning, AI, Statistical Modeling, Python. Check out justintodata.com\u002Fblog\u002F.","isFollowing":null,"imageId":"2*qg1v-tk0xfWPqJDZK7oH-A.png","mediumMemberAt":1573747256000,"__typename":"User"},"$Post:19781b28ffe2.previewContent":{"isFullContent":false,"__typename":"PreviewContent"},"Post:806d04da8deb":{"__typename":"Post","id":"806d04da8deb","title":"End-to-End Machine Learning Project: Part-1","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fend-to-end-machine-learning-project-part-1-806d04da8deb","previewImage":{"type":"id","generated":false,"id":"ImageMetadata:0*uO2f1jAU78B-C7lD","typename":"ImageMetadata"},"isPublished":true,"firstPublishedAt":1589782473446,"readingTime":6.933018867924528,"statusForCollection":"APPROVED","isLocked":true,"visibility":"LOCKED","collection":{"type":"id","generated":false,"id":"Collection:f5af2b715248","typename":"Collection"},"creator":{"type":"id","generated":false,"id":"User:b7afc1505de0","typename":"User"},"previewContent":{"type":"id","generated":true,"id":"$Post:806d04da8deb.previewContent","typename":"PreviewContent"}},"ImageMetadata:0*uO2f1jAU78B-C7lD":{"id":"0*uO2f1jAU78B-C7lD","originalHeight":2928,"originalWidth":3907,"focusPercentX":null,"focusPercentY":null,"__typename":"ImageMetadata"},"Collection:f5af2b715248":{"name":"The Startup","id":"f5af2b715248","slug":"swlh","domain":null,"__typename":"Collection"},"User:b7afc1505de0":{"name":"Piyush Agarwal","username":"impiyush","id":"b7afc1505de0","bio":"Data Scientist | ML Engineer | Avid Hiker","isFollowing":null,"imageId":"1*4Cm0po0Bss2GS0XatMSyhw.jpeg","mediumMemberAt":1589144173349,"__typename":"User"},"$Post:806d04da8deb.previewContent":{"isFullContent":false,"__typename":"PreviewContent"},"Post:c6255952731b":{"__typename":"Post","id":"c6255952731b","title":"ColumnTransformer in SciKit for LabelEncoding and OneHotEncoding in Machine Learning","mediumUrl":"https:\u002F\u002Ftowardsdatascience.com\u002Fcolumntransformer-in-scikit-for-labelencoding-and-onehotencoding-in-machine-learning-c6255952731b","previewImage":{"type":"id","generated":false,"id":"ImageMetadata:1*Xx7E38hzti3-7dbQZoD-4Q.jpeg","typename":"ImageMetadata"},"isPublished":true,"firstPublishedAt":1573984857082,"readingTime":3.4820754716981135,"statusForCollection":"APPROVED","isLocked":false,"visibility":"PUBLIC","collection":{"type":"id","generated":false,"id":"Collection:7f60cf5620c9","typename":"Collection"},"creator":{"type":"id","generated":false,"id":"User:6691923bb149","typename":"User"},"previewContent":{"type":"id","generated":true,"id":"$Post:c6255952731b.previewContent","typename":"PreviewContent"}},"ImageMetadata:1*Xx7E38hzti3-7dbQZoD-4Q.jpeg":{"id":"1*Xx7E38hzti3-7dbQZoD-4Q.jpeg","originalHeight":476,"originalWidth":770,"focusPercentX":null,"focusPercentY":null,"__typename":"ImageMetadata"},"User:6691923bb149":{"name":"Sunny Srinidhi","username":"contactsunny","id":"6691923bb149","bio":"Coding, machine learning, reading, sleeping, listening, potato. https:\u002F\u002Fblog.contactsunny.com and https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Fsunnysrinidhi\u002F","isFollowing":null,"imageId":"0*F5rFz8-JzlrEpFpP.jpg","mediumMemberAt":0,"__typename":"User"},"$Post:c6255952731b.previewContent":{"isFullContent":false,"__typename":"PreviewContent"},"Post:38ad2d75f21c":{"__typename":"Post","id":"38ad2d75f21c","title":"How to Visualize a Decision Tree from a Random Forest in Python using Scikit-Learn","mediumUrl":"https:\u002F\u002Ftowardsdatascience.com\u002Fhow-to-visualize-a-decision-tree-from-a-random-forest-in-python-using-scikit-learn-38ad2d75f21c","previewImage":{"type":"id","generated":false,"id":"ImageMetadata:1*lAhJt7bvEDxT4DEdd29yCA.jpeg","typename":"ImageMetadata"},"isPublished":true,"firstPublishedAt":1534639736471,"readingTime":2.168867924528302,"statusForCollection":"APPROVED","isLocked":false,"visibility":"PUBLIC","collection":{"type":"id","generated":false,"id":"Collection:7f60cf5620c9","typename":"Collection"},"creator":{"type":"id","generated":false,"id":"User:e2f299e30cb9","typename":"User"},"previewContent":{"type":"id","generated":true,"id":"$Post:38ad2d75f21c.previewContent","typename":"PreviewContent"}},"ImageMetadata:1*lAhJt7bvEDxT4DEdd29yCA.jpeg":{"id":"1*lAhJt7bvEDxT4DEdd29yCA.jpeg","originalHeight":1500,"originalWidth":2250,"focusPercentX":null,"focusPercentY":null,"__typename":"ImageMetadata"},"User:e2f299e30cb9":{"name":"Will Koehrsen","username":"williamkoehrsen","id":"e2f299e30cb9","bio":"Data Scientist at Cortex Intel, Data Science Communicator","isFollowing":null,"imageId":"1*SckxdIFfjlR-cWXkL5ya-g.jpeg","mediumMemberAt":0,"__typename":"User"},"$Post:38ad2d75f21c.previewContent":{"isFullContent":false,"__typename":"PreviewContent"},"Post:ec7741f9d3f6":{"__typename":"Post","id":"ec7741f9d3f6","title":"Optimizing Hyperparameters in Random Forest Classification","mediumUrl":"https:\u002F\u002Ftowardsdatascience.com\u002Foptimizing-hyperparameters-in-random-forest-classification-ec7741f9d3f6","previewImage":{"type":"id","generated":false,"id":"ImageMetadata:0*DxMTqkkqP76guz98","typename":"ImageMetadata"},"isPublished":true,"firstPublishedAt":1559761761470,"readingTime":7.208490566037736,"statusForCollection":"APPROVED","isLocked":true,"visibility":"LOCKED","collection":{"type":"id","generated":false,"id":"Collection:7f60cf5620c9","typename":"Collection"},"creator":{"type":"id","generated":false,"id":"User:5f116f970aeb","typename":"User"},"previewContent":{"type":"id","generated":true,"id":"$Post:ec7741f9d3f6.previewContent","typename":"PreviewContent"}},"ImageMetadata:0*DxMTqkkqP76guz98":{"id":"0*DxMTqkkqP76guz98","originalHeight":580,"originalWidth":1010,"focusPercentX":null,"focusPercentY":null,"__typename":"ImageMetadata"},"User:5f116f970aeb":{"name":"Reilly Meinert","username":"reillymeinert","id":"5f116f970aeb","bio":"Statistics & Computer Science student at the University of Virginia https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Freilly-meinert-437223156\u002F","isFollowing":null,"imageId":"2*_CK-J9b54TvA1SWQT_iBNQ.jpeg","mediumMemberAt":0,"__typename":"User"},"$Post:ec7741f9d3f6.previewContent":{"isFullContent":false,"__typename":"PreviewContent"},"Post:803f3812290d":{"__typename":"Post","id":"803f3812290d","title":"Scikit-Learn Decision Trees Explained","mediumUrl":"https:\u002F\u002Ftowardsdatascience.com\u002Fscikit-learn-decision-trees-explained-803f3812290d","previewImage":{"type":"id","generated":false,"id":"ImageMetadata:1*gql3YU01S-BUiCt8mgE66w.png","typename":"ImageMetadata"},"isPublished":true,"firstPublishedAt":1550890798959,"readingTime":8.025471698113208,"statusForCollection":"APPROVED","isLocked":true,"visibility":"LOCKED","collection":{"type":"id","generated":false,"id":"Collection:7f60cf5620c9","typename":"Collection"},"creator":{"type":"id","generated":false,"id":"User:176ad7e37afe","typename":"User"},"previewContent":{"type":"id","generated":true,"id":"$Post:803f3812290d.previewContent","typename":"PreviewContent"}},"ImageMetadata:1*gql3YU01S-BUiCt8mgE66w.png":{"id":"1*gql3YU01S-BUiCt8mgE66w.png","originalHeight":419,"originalWidth":484,"focusPercentX":null,"focusPercentY":null,"__typename":"ImageMetadata"},"User:176ad7e37afe":{"name":"Frank Ceballos","username":"frank.ceballos","id":"176ad7e37afe","bio":"Physicist | Data Scientist","isFollowing":null,"imageId":"0*7Hrwqjb7oJTh4MBc.jpg","mediumMemberAt":1545583629884,"__typename":"User"},"$Post:803f3812290d.previewContent":{"isFullContent":false,"__typename":"PreviewContent"},"$Post:56a2d7c4e931.internalLinks({\"paging\":{\"limit\":8}})":{"items":[{"type":"id","generated":false,"id":"Post:e7e2dc8fde80","typename":"Post"},{"type":"id","generated":false,"id":"Post:8693e1c24e80","typename":"Post"},{"type":"id","generated":false,"id":"Post:19781b28ffe2","typename":"Post"},{"type":"id","generated":false,"id":"Post:806d04da8deb","typename":"Post"},{"type":"id","generated":false,"id":"Post:c6255952731b","typename":"Post"},{"type":"id","generated":false,"id":"Post:38ad2d75f21c","typename":"Post"},{"type":"id","generated":false,"id":"Post:ec7741f9d3f6","typename":"Post"},{"type":"id","generated":false,"id":"Post:803f3812290d","typename":"Post"}],"__typename":"InternalLinksConnection"},"$Post:56a2d7c4e931.previewContent":{"subtitle":"How to avoid letting a model cheat on you and break your heart","__typename":"PreviewContent"},"$Post:56a2d7c4e931.postResponses.responsesConnection({\"paging\":{\"limit\":10}})":{"pagingInfo":null,"stream":[],"__typename":"StreamConnection"}}</script><script src="./The Treachery of Leakage - Colin Fraser - Medium_files/manifest.e8835d59.js.download"></script><script src="./The Treachery of Leakage - Colin Fraser - Medium_files/vendors_main.c8b56a00.chunk.js.download"></script></body></html>