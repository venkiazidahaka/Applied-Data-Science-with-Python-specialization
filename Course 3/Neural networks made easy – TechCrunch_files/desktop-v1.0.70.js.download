!function(){function r(t){return"function"==typeof t.trim?t.trim():t.replace(/^\s+|\s+$/gm,"")}function n(t){if(u&&u<9&&void 0!==t.createTextRange){var n=t.createTextRange();n.collapse(!1),n.select()}else"number"==typeof t.selectionStart&&(t.selectionStart=t.selectionEnd=t.value.length)}function e(t){"focus"in t&&t.focus()}function o(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function t(){}var s,a,u;function c(){var t=new Image;return t.onload=t.onerror=function(){t.onload=t.onerror=null,t=null},t}s=window,a=document,u=function(){if("Microsoft Internet Explorer"!==s.navigator.appName)return!1;var t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(s.navigator.userAgent);return t&&t[1]&&parseFloat(t[1])}(),t.prototype={set:function(t,n,i){t.setAttribute(n,i)},get:function(t,n){return t.getAttribute(n)},ieVer:u,merge:function t(n,i){for(var r in i)"object"==typeof i[r]&&"object"==typeof n[r]?t(n[r],i[r]):n[r]=i[r]},extend:function(t,n){t.prototype=Object.create?Object.create(n.prototype):function(t){function n(){}return n.prototype=t,new n}(n.prototype),t.prototype.constructor=t},buildUrl:function(t,n){var i=[];for(var r in n)n.hasOwnProperty(r)&&i.push(encodeURIComponent(r)+"="+encodeURIComponent(n[r]));return 0<i.length&&(t=t+(-1===t.indexOf("?")?"?":"&")+i.join("&")),t},stopPropagation:function(t){t.returnValue=!1,t.cancelBubble=!0,t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation()},setFocus:function(t){n(t),e(t)},cursorEnd:n,select:function(t,n,i){if(u&&u<9&&void 0!==t.createTextRange){var r=t.createTextRange();r.moveStart("character",n),r.moveEnd("character",i),r.select()}else t.selectionStart=n,t.selectionEnd=i,e(t)},hasClass:function(t,n){if(t.classList)return t.classList.contains(n);var i=new RegExp("(\\s|^)"+o(n)+"(\\s|$)");return t.className.match(i)},removeClass:function(t,n){if(t.classList)t.classList.remove(n);else{var i=new RegExp("(\\s|^)"+o(n)+"(\\s|$)");t.className=r(t.className.replace(i," "))}},trim:r,htmlEncode:function(t){return t.replace(/[\u00A0-\u9999<>\&]/gim,function(t){return"&#"+t.charCodeAt(0)+";"})},ae:function(t,n,i,r){if(r=r||!1,t.addEventListener)t.addEventListener(n,i,r);else{if(!t.attachEvent)return!1;t.attachEvent("on"+n,i)}},de:function(t,n,i){if(t.removeEventListener)t.removeEventListener(n,i);else{if(!t.detachEvent)return!1;t.detachEvent("on"+n,i)}},ts:function(){return Math.round((new Date).getTime()/1e3)},bold:function(t,n,i,r){var e,s=(r.pattern?r.pattern:"")+"(&[^;\\s]*)?(%needles)";return(e=r.exact?[o(i)]:i.split(/[\s|,]+/).filter(function(t){return""!==t}).sort(function(t,n){return n.length-t.length}).map(function(t){return o(t)})).length?(s=s.replace("%needles",e.join("|")),n=n.replace(new RegExp(s,"gi"),function(r){return function(t,n,i){return n&&!/\s/.test(i)?t:r.replace(/\{s\}/g,i)}}(t))):n},fireEvent:function(t,n,i){var r;"function"==typeof s.CustomEvent?(r=new s.CustomEvent(n,{detail:i}),t.dispatchEvent(r)):"function"==typeof a.createEvent?((r=a.createEvent("CustomEvent")).initCustomEvent(n,!1,!1,i),t.dispatchEvent(r)):(a.attachEvent,document.documentElement[n]=i)},debug:function(t){this.config.debug&&s.console&&s.console.log&&s.console.log(t)}},s.YAHOO=s.YAHOO||{},s.YAHOO.NBClass=t,s.YAHOO.NB=new t,Array.prototype.forEach||(Array.prototype.forEach=function(t,n){var i,r;if(null==this)throw new TypeError(" this is null or not defined");var e=Object(this),s=e.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(1<arguments.length&&(i=n),r=0;r<s;){var o;r in e&&(o=e[r],t.call(i,o,r,e)),r++}}),Array.prototype.filter||(Array.prototype.filter=function(t){"use strict";if(null==this)throw new TypeError;var n=Object(this),i=n.length>>>0;if("function"!=typeof t)throw new TypeError;for(var r=[],e=2<=arguments.length?arguments[1]:void 0,s=0;s<i;s++)if(s in n){var o=n[s];t.call(e,o,s,n)&&r.push(o)}return r}),Array.prototype.map||(Array.prototype.map=function(t,n){var i,r,e;if(null==this)throw new TypeError(" this is null or not defined");var s=Object(this),o=s.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(1<arguments.length&&(i=n),r=new Array(o),e=0;e<o;){var a,u;e in s&&(a=s[e],u=t.call(i,a,e,s),r[e]=u),e++}return r}),String.prototype.includes||(String.prototype.includes=function(t,n){"use strict";return"number"!=typeof n&&(n=0),!(n+t.length>this.length)&&-1!==this.indexOf(t,n)}),"undefined"==typeof YAHOO&&(YAHOO={}),YAHOO.ULT||(YAHOO.ULT={}),YAHOO.ULT.BEACON||(YAHOO.ULT.BEACON=location.protocol+"//geo.yahoo.com/t"),YAHOO.ULT.SRC_SPACEID_KEY="_S",YAHOO.ULT.DEST_SPACEID_KEY="_s",YAHOO.ULT.YLC_LIBSRC=2,YAHOO.ULT.CTRL_C="",YAHOO.ULT.CTRL_D="",YAHOO.ULT.BASE64_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789._-",YAHOO.ULT.track_click=function(t,n,i){return t&&n&&(t=YAHOO.ULT.y64_token("ylc",t,n),i&&(t=YAHOO.ULT.y64_token("ylg",t,i))),t},YAHOO.ULT.beacon_click=function(t,n,i){if(i=i||c(),n&&"IMG"===n.nodeName&&(DEBUGCODE(window.alert("WARNING: using legacy IMG argument for beacon_click() call in ylc.js!\nThis is now the (optional) third argument in ylc.js versions 3.0+!")),i=n,n=void 0),t){var r=YAHOO.ULT.track_click(YAHOO.ULT.BEACON,t,n);r+=(-1===r.indexOf("?")?"?":"&")+"t="+Math.random(),i.src=r}return!0},YAHOO.ULT.click_beacon=function(t,n,i){var r=t.target||t.srcElement,e=c();if(n){var s=YAHOO.ULT.track_click(YAHOO.ULT.BEACON,n,i);s+="?t="+Math.random();var o=r.getAttribute("href",2);e.onerror=e.onload=function(){location=o},t.preventDefault?t.preventDefault():t.returnValue=!1,e.src=s}},YAHOO.ULT.has_multibyte=function(t){for(var n=0;n<t.length;n++)if(255<t.charCodeAt(n))return!0;return!1},YAHOO.ULT.escape_multibyte_if_necessary=function(t){return YAHOO.ULT.has_multibyte(t)?encodeURIComponent(t):t},YAHOO.ULT.y64_token=function(t,n,i){if(!t||!n||!i)return n;i._r=YAHOO.ULT.YLC_LIBSRC;var r,e=[],s=0;for(r in i){var o=i[r];if("string"!=typeof o&&(o=String(o),i[r]=o),r.length<1)return n;if(8<r.length)return n;if(-1!==r.indexOf(" "))return n;if(YAHOO.ULT.has_ctrl_char(r)||YAHOO.ULT.has_ctrl_char(o))return n;i[r]=o=YAHOO.ULT.escape_multibyte_if_necessary(o),e[s++]=r}e=e.sort();var a=[];for(s=0;s<e.length;s++)a[s]=e[s]+YAHOO.ULT.CTRL_C+i[e[s]];if((a=a.join(YAHOO.ULT.CTRL_D)).length<1||1024<a.length)return n;a=";_"+t+"="+YAHOO.ULT.encode64(a);var u="(;_"+t+"=[0-9a-zA-Z\\._\\-]+)";return n.replace(new RegExp(u),""),-1===(s=n.indexOf("/*"))&&(s=n.indexOf("/?")),-1===s&&(s=n.indexOf("?")),-1===s?n+a:n.substr(0,s)+a+n.substr(s)},YAHOO.ULT.has_ctrl_char=function(t){for(var n=0;n<t.length;n++)if(t.charCodeAt(n)<32)return!0;return!1},YAHOO.ULT.encode64=function(t){for(var n,i,r,e,s,o="",a="",u="",c=0;r=(n=t.charCodeAt(c++))>>2,e=(3&n)<<4|(i=t.charCodeAt(c++))>>4,s=(15&i)<<2|(a=t.charCodeAt(c++))>>6,u=63&a,isNaN(i)?s=u=64:isNaN(a)&&(u=64),o=o+YAHOO.ULT.BASE64_STR.charAt(r)+YAHOO.ULT.BASE64_STR.charAt(e)+YAHOO.ULT.BASE64_STR.charAt(s)+YAHOO.ULT.BASE64_STR.charAt(u),n=i=a="",r=e=s=u="",c<t.length;);return o};var f,h,l,A,E,g,m=window,T=document,v=m.YAHOO,w=v.NB,p={},O="before_get_assist",i="before_display_data",_="before_init_view",b="after_init_view",d="before_parse_data",y="before_update_assist",I="after_update_list",Y="after_create_item",H="before_show_sa",R="after_reset_view",S="after_init_controller",B="click_assist",F="before_query_assist",k="before_key_submit",x="before_button_submit",C="before_submit_query",U="before_sb_focus",M="after_sb_focus",j="before_sb_blur",N="after_sb_blur",L="after_set_ylc",D="after_reset_controller";function P(t,n){var i;n=(t=t||{}).tag||n||"div";for(var r in i=T.createElement(n),t.css&&(i.className=t.css),t.text&&(i.textContent=t.text),t.attrs)w.set(i,r,t.attrs[r]);for(var r in t.style)i.style[r]=t.style[r];return i}function V(t){this.config=t||{},this.listeners={},this.cb={}}function W(){}function q(){}function G(){}function Q(){var t=this,n=t.app.view.elems.sbForm,i=n.fr,r=t.config.def||"";i=i||n.appendChild(t.createElem({attrs:{type:"hidden",name:"fr",value:r}},"input")),t.origFr=i.value,t.fr=i}function $(){this.fr.value=this.config.fr||""}function K(){this.fr.value=this.origFr}function X(){}function z(){this.isTriggerByInput=!this.app.view.sameQuery()}function Z(t){var n,i=this.app.view.elems.sbInput;if(this.isTriggerByInput){if("number"==typeof i.selectionStart)n=i.selectionStart;else if(T.selection){i.focus();var r=T.selection.createRange();r.moveStart("character",-T.activeElement.value.length),n=r.text.length}null!==n&&n!==i.value.length&&(t.ipos=n),this.isTriggerByInput=!1}}function J(){}function tt(){this.targetURL=this.config.url}function nt(){var t=v.ULT.y64_token,n=this.app,i=n.control.ylc;if(t&&i){var r=n.view.elems.sbForm;r.action=t("ylc",this.targetURL||r.action,i),this.targetURL=""}}function it(){this.config={url:""}}function rt(){var t=this.config,n=this.createElem,i=n(t.ctn,"div"),r=i.appendChild(n(t.tray,"div")),e=T.getElementById(t.parent)||T.body,s=T.getElementById(t.beforeNode),o=T.getElementById(t.afterNode),a=s||o;a?(e=a.parentNode,s||(a=a.nextSibling),e.insertBefore(i,a)):e.appendChild(i),this.app.view.elems.saTray=r}function et(){this.config={ctn:{css:"sa-tray-ctn"},tray:{css:"sa-tray"}}}function st(t){var n=this,i=n.config,r=n.app,e=r.view,s=e.elems,o=hiddenWidth=0;if(t&&t.r&&t.r.length&&(o=t.sqpos)){for(var a="",u=t.r,c=0;c<u.length;c++)a=u[c].k.length>a.length?u[c].k:a;var f=r.config,h=n.createElem,l=h(f.sa,"div"),v=h(f.saList,"ul"),p=f.boldTag,O=[a,t.q.substr(0,o)];l.style.position="absolute",l.style.left="-9999px",s.saTray.appendChild(l).appendChild(v);for(c=0;c<O.length;c++){var _=p?p.replace("{s}",w.htmlEncode(O[c])):O[c],b=e.createItem({t:_}),d=b.title;d.style.display="inline-block",d.style.whiteSpace="nowrap",d.style.padding="0",i.fontSize&&(d.style.fontSize=i.fontSize),v.appendChild(b.li);var y=d.clientWidth;if(0==c&&y-i.delta>s.sbInput.clientWidth){o=0;break}hiddenWidth=y}l.outerHTML=""}n.sqpos=o,n.toleft=hiddenWidth}function ot(t){var n=this.sqpos;n&&(t.k=t.k.substr(n),t.q=t.q.substr(n))}function at(t){var n=t.parentNode,i=this.sqpos,r=this.toleft;config=this.config,i&&(n.className+=" "+config.css,n.style.left=r+config.offset+"px",n.style.position="absolute")}function ut(){this.config={css:"sa-subtray",offset:5,delta:0}}function ct(){this.selectedIndex=-1}function ft(){var o=this,a=o.config,u=o.app.view;items=u.items,elems=u.elems,sbInput=elems.sbInput,saTray=elems.saTray,ieVer=w.ieVer,stopPropertychange=!1,resetHighlight=function(){var t=o.selectedIndex;0<=t&&w.removeClass(items[t].li,a.css)},highlight=function(t){w.hasClass(t,a.css)||(t.className+=" "+a.css)},w.ae(saTray,"mouseover",function(t){for(var n=t.target||t.srcElement;n;){var i=w.get(n,"pos");if(n===(i?u.items[i]:{}).li){resetHighlight(),o.selectedIndex=i,highlight(n);break}if((n=n.parentNode)===saTray)break}}),w.ae(saTray,"mouseout",function(t){resetHighlight()}),w.ae(sbInput,"keydown",function(t){var n=t.keyCode,i=o.selectedIndex;switch(n){case 38:case 40:if(!items.length)return;resetHighlight();for(var r,e=items.length;40==n?i<0||e-1<=i?i=0:i++:i<=0?i=e-1:i--,!(r=items[i]).li.parentNode;);o.selectedIndex=i,u.assistItem=r,sbInput.value=r.data.k,highlight(r.li),w.stopPropagation(t),stopPropertychange=!0;break;case 9:case 39:if(9==n&&a.useDefaultTab)return;var s=sbInput.value.length;if(sbInput.selectionEnd==s&&sbInput.selectionStart==s){if(!items.length)return;(0<=i||sbInput.value!==items[0].data.k)&&(sbInput.value=0<=i?items[i].data.k:items[0].data.k,u.show(),w.stopPropagation(t))}else 9==n&&(sbInput.selectionEnd=sbInput.selectionStart=sbInput.value.length,w.stopPropagation(t))}}),ieVer&&(8===ieVer&&w.ae(sbInput,"propertychange",function(t){"value"===t.propertyName&&!0!==stopPropertychange&&u.show(),stopPropertychange=!1}),9===ieVer&&(o.onSelctionChange=function(t){T.activeElement===sbInput&&u.show()}))}function ht(){var t=w.ieVer;t&&9===t&&!this.ie9_attached&&(w.ae(T,"selectionchange",this.onSelctionChange),this.ie9_attached=!0)}function lt(){var t=w.ieVer;t&&9===t&&this.ie9_attached&&(w.de(T,"selectionchange",this.onSelctionChange),this.ie9_attached=!1)}function vt(){this.config={css:"highlight",useDefaultTab:!1}}function pt(){var r=this.app.view;w.ae(T,"keydown",function(t){var n=T.activeElement;if(!n.tagName||"input"!==n.tagName.toLowerCase()&&"textarea"!==n.tagName.toLowerCase()){var i=r.elems.sbInput;if(27===t.keyCode&&i.value.length)return w.select(i,0,i.value.length),void w.stopPropagation(t);t.keyCode<=40||t.ctrlKey||t.metaKey||(i.value=w.trim(i.value),""!==i.value&&(i.value+=" "),r.triggered=!0,w.setFocus(i))}})}function Ot(){}function _t(){var n=this,i=n.app,r=i.view,t=r.elems,e=t.sbInput,s=t.sbClear;s&&w.ae(s,"click",function(t){w.stopPropagation(t),e.value="",r.triggered=!1,w.setFocus(e),i.control.beacon("tapClr",s,n.config.log)})}function bt(){this.config={log:{_r:2,actn:"clk",pos:1,sec:"search",slk:"clearsearch",rspns:"upd",t1:"hdr",t2:"search",t3:"clear",t4:"clearsearch"}}}v.SA=(h=[],V.prototype={jsonp:function(t){var n=T.getElementsByTagName("head")[0],i=T.createElement("script");w.set(i,"type","text/javascript"),w.set(i,"src",t),n.appendChild(i),w.ae(i,"load",function(){n.removeChild(i)})},createElem:P,on:function(t,n,i){if(t&&n){var r=this.listeners;r[t]||(r[t]=[]),r[t].push({thisArg:i||this,fn:n})}},notify:function(t,r){var n=this.listeners;if(!n[t])return!1;n[t].forEach(function(t){var n=t.thisArg,i=t.fn;i&&i.apply&&1!=n.config.disable&&i.apply(n,r||[])})},init:function(t){var n,i,r,e=this,s=e.config,o=s.plugins={};for(var a in e.view=n=new f.viewClass,e.model=i=new f.modelClass,e.control=r=new f.controlClass,p){var u;u=new p[a],o[a]=u.config=u.config||{},u.createElem=P,u.init(e)}"object"==typeof t&&w.merge(s,t),e.ready=n.init(e)&&i.init(e)&&r.init(e)}},l=V,f={apps:h,plugs:p,add:function(t,n){p[t]=n},msg:{BEFORE_GET_ASSIST:O,BEFORE_DISPLAY_DATA:i,BEFORE_INIT_VIEW:_,AFTER_INIT_VIEW:b,BEFORE_PARSE_DATA:d,BEFORE_UPDATE_ASSIST:y,AFTER_UPDATE_LIST:I,AFTER_CREATE_ITEM:Y,BEFORE_SHOW_SA:H,AFTER_RESET_VIEW:R,AFTER_INIT_CONTROLLER:S,CLICK_ASSIST:B,BEFORE_QUERY_ASSIST:F,BEFORE_KEY_SUBMIT:k,BEFORE_BUTTON_SUBMIT:x,BEFORE_SUBMIT_QUERY:C,BEFORE_SB_FOCUS:U,AFTER_SB_FOCUS:M,BEFORE_SB_BLUR:j,AFTER_SB_BLUR:N,AFTER_SET_YLC:L,AFTER_RESET_CONTROLLER:D},init:function(t){var n=w.ieVer;if(n&&n<8)return!1;var i=new l(this.initConfig?this.initConfig():{});if(i.init(t),!i.ready)return!1;i.config.customEvent&&8===n&&(T.documentElement.assistSelection=null),i.idx=h.length,h.push(i),!this.latency&&m.performance&&"function"==typeof m.performance.now&&(this.latency=m.performance.now())}}),f.controlClass=(A="ylcAssist",E="ylcKey",g="ylcBtn",W.prototype={init:function(i){function s(t){p.pqstr="",p.pqstrl=0,p.pos=0;var n=f.sbForm.fr2,i=f.sbInput.value,r=a.data;switch(p.query=encodeURIComponent(i),p.qstrl=i.length,p.t_stmp=w.ts(),p.gprid=r.l&&r.l.gprid?r.l.gprid:"",p.n_sugg=r.r?r.r.length:0,n&&(p.fr2=n.value),u.assistItem&&(p.pos=u.assistItem.idx+1),t){case A:var e=u.lastInput;w.merge(p,c[A]),p.pqstr=e,p.pqstrl=e.length;break;case E:w.merge(p,c[E]);break;default:w.merge(p,c[g])}_(L),O.lastActn=p.t4}function o(t){_(C),t?w.fireEvent(h,t,{data:u.assistItem}):l.submit(),setTimeout(function(){e()},400)}var a,u,c,f,h,l,t,v,p,n,O=this,r=w.ieVer,_=function(t,n){i.notify(t,n)},e=function(){h.blur(),u.reset(),_(D)};if(O.model=a=i.model,O.view=u=i.view,O.config=c=i.config,O.customEvent=v=c.customEvent||{},O.lastActn="",O.ylc=p={},w.merge(p,c.ylc),f=u.elems,h=f.sbInput,l=f.sbForm,t=f.sbSubmit,n=c.autofocus,(!r||9<=r)&&w.ae(h,"input",function(){u.show()}),r&&w.ae(m,"load",function(){n=!1}),w.ae(h,"focus",function(){n||(_(U),c.sbScrollTop&&(T.body.scrollTop=0),u.triggered||u.show(),_(M))}),w.ae(h,"blur",function(){_(j),_(N)}),w.ae(h,"click",function(){u.triggered||u.show()}),w.ae(h,"keydown",function(t){switch(O.lastActn="key_"+t.keyCode,t.keyCode){case 13:t.preventDefault(),_(k),s(E),o(v.customKeyBoard);break;case 27:h.blur(),u.hide(),w.stopPropagation(t)}}),t?w.ae(t,"click",function(t){t.preventDefault(),_(x),s(g),o(v.customBtn)}):w.ae(l,"submit",function(){_(i,x),s(g),_(C),setTimeout(function(){e()},400)}),"ontouchstart"in m){function b(t,n){return/touch/.test(t.type)?(t.originalEvent||t).changedTouches[0]["page"+n]:t["page"+n]}var d,y;w.ae(T,"touchstart",function(t){u.shown&&(d=b(t,"X"),y=b(t,"Y"))}),w.ae(T,"touchend",function(t){u.shown&&(5<=Math.abs(b(t,"X")-d)||5<=Math.abs(b(t,"Y")-y))&&t.preventDefault()})}return w.ae(T,"click",function(t){if(u.shown){for(var n=t.target?t.target:t.srcElement,i=!1;n;){if(n===l||n===f.saTray)return;var r=w.get(n,"pos"),e=r?u.items[r]:{};if(_(B,[function(){i=!0},n,e]),i)return;if(n===e.li)return h.value=e.data.k,u.assistItem=e,_(F),s(A),void o(v.customSelection);if((n=n.parentNode)===T)break}u.hide()}}),_(S),!0},beacon:function(t,n,i){if(i){var r=this.customEvent,e=this.config,s="sa_rt"in i?"?rt="+i.sa_rt+"&q="+i.cqry+"&la="+this.lastActn+"&n="+i.nitems+"&s="+i._S:"";if(this.lastActn=i.t4,r[t])w.fireEvent(n,r[t],i);else if(v.ULT){var o=v.ULT,a=o.BEACON,u=e.saBeacon?e.saBeacon:"search.yahoo.com/beacon/geo/t"+s;o.BEACON=location.protocol+"//"+u,o.beacon_click(i),o.BEACON=a}else v.SaBeacon&&v.SaBeacon(i)}}},W),f.modelClass=(q.prototype={init:function(t){var n=this;return n.app=t,n.view=t.view,n.config=t.config,n.cbIdx=0,n.data={},!0},fetch:function(){var n=this,t=n.app,i="sacb"+n.cbIdx++,r=n.view,e={pq:r.origQuery,command:r.elems.sbInput.value,t_stmp:w.ts(),callback:"YAHOO.SA.apps["+t.idx+"].cb."+i},s=n.config.saBE,o=t.cb;for(var a in w.merge(e,s.params),o)o.hasOwnProperty(a)&&(o[a]=function(){});o[i]=function(t){n.read(t||{}),o[i]=function(){}},t.notify(O,[e]),n.getAssist(s,e)},getAssist:function(t,n){this.app.jsonp(t.host+w.buildUrl(t.base,n))},read:function(t){this.data=t,this.app.notify(i,[t]),this.view.dropdown(t)}},q),f.viewClass=(G.prototype={init:function(t){var n,i,r,e,s,o=this;o.app=t,o.model=t.model,o.config=n=t.config,o.elems=i={},o.items=[],o.assistItem=null,t.notify(_);var a=n.elems;for(var u in a)i[u]||(i[u]=T.getElementById(a[u]));return r=i.sbInput,s=i.saTray,!!((e=i.sbForm)&&r&&s)&&(o.origQuery=o.lastInput=r.value,w.set(r,"role","combobox"),w.set(r,"aria-autocomplete","both"),o.origAction=e.action,n.autofocus&&w.setFocus(r),t.notify(b),w.ae(m,"load",function(){i.saAria=T.body.appendChild(t.createElem(n.saAria,"div"))}),!0)},dropdown:function(t){var n=this,i=n.config,r=n.app,e=t&&t.r?t.r.length:0,s=n.elems,o=s.saAria,a=n.app.createElem,u=a(i.sa,"div"),c=a(i.saList,"ul");if(w.hasClass(T.body,"typing")||(T.body.className+=" typing"),n.shown=!0,n.clearAssist(),e){u.appendChild(c),r.notify(d,[t]);for(var f=0;f<e;f++){var h=t.r[f],l={idx:f,q:t.q,fd:{}};w.merge(l,h),l.data=h,r.notify(y,[l]);var v=this.createItem(l);n.items.push(v),c.appendChild(v.li)}r.notify(I,[c]),s.saTray.appendChild(u)}o&&(w.set(o,"aria-expanded","true"),o.innerHTML="<p>"+e+" "+n.config.saAria.shownText+"</p>")},show:function(){var t=this,n=t.config,i=t.elems.sbInput;if(t.app.notify(H),!t.shown||!t.sameQuery()){t.lastInput=i.value;var r=i.value.length;r<n.minInput||r>n.maxInput?t.hide():(t.model.fetch(),t.triggered=!0)}},hide:function(){var t=this,n=t.elems.saAria;w.removeClass(T.body,"typing"),t.clearAssist(),t.shown=!1,t.triggered=!1,n&&(w.set(n,"aria-expanded","false"),n.innerHTML="<p>"+t.config.saAria.closedText+"</p>")},clearAssist:function(){this.elems.saTray.innerHTML="",this.items.splice(0,this.items.length),this.assistItem=null},createItem:function(t){var n={idx:t.idx,data:t.data},i=w.htmlEncode,r=this.config,e=this.app.createElem,s=e(r.saItem,"li");w.set(s,"pos",t.idx);var o=e(r.saTitle,"span");return o.innerHTML=t.t?t.t:r.boldTag&&t.k&&t.q?w.bold(r.boldTag,i(t.k),i(t.q),r.highlight||{}):i(t.k),s.appendChild(o),n.li=s,n.title=o,this.app.notify(Y,[n,t]),n},resetQuery:function(){this.elems.sbInput.value=this.origQuery},reset:function(){var t=this,n=t.config,i=t.elems.sbForm;n.resetQuery&&t.resetQuery(),t.hide(),i.action=t.origAction,t.app.notify(R)},sameQuery:function(){return this.elems.sbInput.value==this.lastInput}},G),f.initConfig=function(){return{elems:{sbForm:"sb-form",sbInput:"sb-input",sbSubmit:"sb-search",sbClear:"sb-clr",sbCancel:"sb-cancel",saTray:"sa-tray"},customEvent:{},sa:{css:"sa",attrs:{type:"normal"}},saList:{css:"sa-list",attrs:{role:"listbox"},style:{cursor:"pointer"}},saItem:{css:"sa-item",attrs:{role:"option"}},saTitle:{css:"sa-item-title"},saAria:{shownText:"new suggestions shown",closedText:"Suggestion box closed",css:"sa-aria-live-region",attrs:{"aria-live":"polite"},style:{position:"absolute",left:"-9999px"}},saBE:{host:"https://search.yahoo.com",base:"/sugg/gossip/gossip-us-ura/",params:{l:1,bm:3,output:"sd1",appid:"search.yahoo.com",nresults:10}},shBE:{host:"https://search.yahoo.com",base:"/history"},minInput:0,maxInput:255,boldTag:"<b>{s}</b>",ylc:{_r:2},ylcAssist:{use_case:""}}},p.saFr=(X.prototype={init:function(t){(this.app=t).on(b,Q,this),t.on(F,$,this),t.on(R,K,this)}},X),p.ipos=(J.prototype={init:function(t){(this.app=t).on(H,z,this),t.on(O,Z,this)}},J),p.ylcEncode=(it.prototype={init:function(t){(this.app=t).on(F,tt,this),t.on(C,nt,this)}},it),p.saTray=(et.prototype={init:function(t){(this.app=t).on(_,rt,this)}},et),p.saSubTray=(ut.prototype={init:function(t){var n=this;n.app=t,n.sqpos=n.toleft=0,t.on(d,st,n),t.on(y,ot,n),t.on(I,at,n)}},ut),p.saPCActn=(vt.prototype={init:function(t){var n=this;n.app=t,n.selectedIndex=-1,t.on(i,ct,n),t.on(S,ft,n),t.on(M,ht,n),t.on(N,lt,n)}},vt),p.anykey=(Ot.prototype={init:function(t){(this.app=t).on(S,pt,this)}},Ot),p.tapClr=(bt.prototype={init:function(t){(this.app=t).on(S,_t,this)}},bt)}();